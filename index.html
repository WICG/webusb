<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>WebUSB API</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in Â§N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em 0;
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: normal;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 176d39d5a285c04f57d2f0e078fa69273028eb45" name="generator">
<style>
table {
  border-collapse: collapse;
  border-left-style: hidden;
  border-right-style: hidden;
  text-align: left;
}
table caption {
  font-weight: bold;
  padding: 3px;
  text-align: left;
}
table td, table th {
  border: 1px solid black;
  padding: 3px;
}
</style>
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "Â¶"; }
            .heading > a.self-link::before { content: "Â§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "â";
            }
            .css::after, .property::after, .descriptor::after {
                content: "â";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "â";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "â";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
        .highlight:not(.idl) { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        .highlight .c { color: #708090 } /* Comment */
        .highlight .k { color: #990055 } /* Keyword */
        .highlight .l { color: #000000 } /* Literal */
        .highlight .n { color: #0077aa } /* Name */
        .highlight .o { color: #999999 } /* Operator */
        .highlight .p { color: #999999 } /* Punctuation */
        .highlight .cm { color: #708090 } /* Comment.Multiline */
        .highlight .cp { color: #708090 } /* Comment.Preproc */
        .highlight .c1 { color: #708090 } /* Comment.Single */
        .highlight .cs { color: #708090 } /* Comment.Special */
        .highlight .kc { color: #990055 } /* Keyword.Constant */
        .highlight .kd { color: #990055 } /* Keyword.Declaration */
        .highlight .kn { color: #990055 } /* Keyword.Namespace */
        .highlight .kp { color: #990055 } /* Keyword.Pseudo */
        .highlight .kr { color: #990055 } /* Keyword.Reserved */
        .highlight .kt { color: #990055 } /* Keyword.Type */
        .highlight .ld { color: #000000 } /* Literal.Date */
        .highlight .m { color: #000000 } /* Literal.Number */
        .highlight .s { color: #a67f59 } /* Literal.String */
        .highlight .na { color: #0077aa } /* Name.Attribute */
        .highlight .nc { color: #0077aa } /* Name.Class */
        .highlight .no { color: #0077aa } /* Name.Constant */
        .highlight .nd { color: #0077aa } /* Name.Decorator */
        .highlight .ni { color: #0077aa } /* Name.Entity */
        .highlight .ne { color: #0077aa } /* Name.Exception */
        .highlight .nf { color: #0077aa } /* Name.Function */
        .highlight .nl { color: #0077aa } /* Name.Label */
        .highlight .nn { color: #0077aa } /* Name.Namespace */
        .highlight .py { color: #0077aa } /* Name.Property */
        .highlight .nt { color: #669900 } /* Name.Tag */
        .highlight .nv { color: #222222 } /* Name.Variable */
        .highlight .ow { color: #999999 } /* Operator.Word */
        .highlight .mb { color: #000000 } /* Literal.Number.Bin */
        .highlight .mf { color: #000000 } /* Literal.Number.Float */
        .highlight .mh { color: #000000 } /* Literal.Number.Hex */
        .highlight .mi { color: #000000 } /* Literal.Number.Integer */
        .highlight .mo { color: #000000 } /* Literal.Number.Oct */
        .highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
        .highlight .sc { color: #a67f59 } /* Literal.String.Char */
        .highlight .sd { color: #a67f59 } /* Literal.String.Doc */
        .highlight .s2 { color: #a67f59 } /* Literal.String.Double */
        .highlight .se { color: #a67f59 } /* Literal.String.Escape */
        .highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
        .highlight .si { color: #a67f59 } /* Literal.String.Interpol */
        .highlight .sx { color: #a67f59 } /* Literal.String.Other */
        .highlight .sr { color: #a67f59 } /* Literal.String.Regex */
        .highlight .s1 { color: #a67f59 } /* Literal.String.Single */
        .highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
        .highlight .vc { color: #0077aa } /* Name.Variable.Class */
        .highlight .vg { color: #0077aa } /* Name.Variable.Global */
        .highlight .vi { color: #0077aa } /* Name.Variable.Instance */
        .highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        </style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">WebUSB API</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editorâs Draft, <time class="dt-updated" datetime="2017-02-14">14 February 2017</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/webusb">https://wicg.github.io/webusb</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/wicg/webusb/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:reillyg@google.com">Reilly Grant</a> (<span class="p-org org">Google Inc.</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:rockot@google.com">Ken Rockot</a> (<span class="p-org org">Google Inc.</span>)
     <dt>Participate:
     <dd><span><a href="https://www.w3.org/community/wicg/">Join the W3C Community Group</a></span>
     <dd><span><a href="https://github.com/WICG/webusb">File Issues, send changes, through GitHub</a></span>
     <dd><span><a href="irc://irc.w3.org:6665/#webusb">IRC: #webusb on W3Câs IRC</a> (Stay around for an answer, it make take a while)</span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> Â© 2015 the Contributors to the WebUSB API Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  <div class="p-summary" data-fill-with="abstract">
   <p>This document describes an API for securely providing access to Universal Serial Bus devices from web pages.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#security-and-privacy"><span class="secno">2</span> <span class="content">Security and Privacy Considerations</span></a>
     <ol class="toc">
      <li><a href="#abusing-a-device"><span class="secno">2.1</span> <span class="content">Abusing Access to a Device</span></a>
      <li><a href="#attacking-a-device"><span class="secno">2.2</span> <span class="content">Attacking a Device</span></a>
      <li><a href="#attacking-the-host"><span class="secno">2.3</span> <span class="content">Attacking the Host</span></a>
     </ol>
    <li>
     <a href="#webusb-descriptors-and-requests"><span class="secno">3</span> <span class="content">WebUSB Descriptors and Requests</span></a>
     <ol class="toc">
      <li><a href="#webusb-platform-capability-descriptor"><span class="secno">3.1</span> <span class="content">WebUSB Platform Capability Descriptor</span></a>
      <li>
       <a href="#device-requests"><span class="secno">3.2</span> <span class="content">WebUSB Device Requests</span></a>
       <ol class="toc">
        <li><a href="#get-allowed-origins"><span class="secno">3.2.1</span> <span class="content">Get Allowed Origins</span></a>
        <li><a href="#get-url"><span class="secno">3.2.2</span> <span class="content">Get URL</span></a>
       </ol>
      <li>
       <a href="#webusb-descriptors"><span class="secno">3.3</span> <span class="content">WebUSB Descriptors</span></a>
       <ol class="toc">
        <li><a href="#allowed-origins-header"><span class="secno">3.3.1</span> <span class="content">Allowed Origins Header</span></a>
        <li><a href="#configuration-subset-header"><span class="secno">3.3.2</span> <span class="content">Configuration Subset Header</span></a>
        <li><a href="#function-subset-header"><span class="secno">3.3.3</span> <span class="content">Function Subset Header</span></a>
        <li><a href="#url-descriptor"><span class="secno">3.3.4</span> <span class="content">URL Descriptor</span></a>
       </ol>
      <li><a href="#public-device-registry"><span class="secno">3.4</span> <span class="content">Public Device Registry</span></a>
     </ol>
    <li>
     <a href="#enumeration"><span class="secno">4</span> <span class="content">Device Enumeration</span></a>
     <ol class="toc">
      <li><a href="#events"><span class="secno">4.1</span> <span class="content">Events</span></a>
      <li><a href="#permission-api"><span class="secno">4.2</span> <span class="content">Permission API Integration</span></a>
     </ol>
    <li>
     <a href="#device-usage"><span class="secno">5</span> <span class="content">Device Usage</span></a>
     <ol class="toc">
      <li><a href="#transfers"><span class="secno">5.1</span> <span class="content">Transfers</span></a>
      <li><a href="#configurations"><span class="secno">5.2</span> <span class="content">Configurations</span></a>
      <li><a href="#interfaces"><span class="secno">5.3</span> <span class="content">Interfaces</span></a>
      <li><a href="#endpoints"><span class="secno">5.4</span> <span class="content">Endpoints</span></a>
     </ol>
    <li><a href="#terminology"><span class="secno">6</span> <span class="content">Terminology</span></a>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p>The Universal Serial Bus (USB) is the de-facto standard for wired peripherals.
Most USB devices implement one of roughly a dozen standard "device classes"
which specify a way for the device to advertize the features it supports and
commands and data formats for using those features. Standard device classes
include keyboard, mice, audio, video and storage devices. Operating systems
support such devices using the "class driver" provided by the OS vendor. There
is however a long tail of devices that do not fit into one of the standardized
device classes.  These devices require hardware vendors to write native drivers
and SDKs in order for developers to take advantage of them and this native code
prevents these devices from being used by the web.</p>
   <p>The WebUSB API provides a way to safely expose USB device services to the web.
It provides an API familiar to developers who have used existing native USB
libraries and exposes the device interfaces defined by existing specifications.
With this API hardware manufacturers will have the ability to build
cross-platform JavaScript SDKs for their devices. This will be good for the web
because, instead of waiting for a new kind of device to be popular enough for
browsers to provide a specific API, new and innovative hardware can be built
for the web from day one.</p>
   <h2 class="heading settled" data-level="2" id="security-and-privacy"><span class="secno">2. </span><span class="content">Security and Privacy Considerations</span><a class="self-link" href="#security-and-privacy"></a></h2>
   <p>The WebUSB API is a powerful feature and has the possibility to expose users to
a number of new privacy and security risks. These risks can be broadly divided
into three catagories that will be described in the sections below.</p>
   <h3 class="heading settled" data-level="2.1" id="abusing-a-device"><span class="secno">2.1. </span><span class="content">Abusing Access to a Device</span><a class="self-link" href="#abusing-a-device"></a></h3>
   <p>Peripheral devices can serve a number of purposes. They may store data, as a
flash drive does. They may collect information about the outside world as a
camera or microphone does. They may manipulate objects in the outside world as
a printer does. Each of the examples above have high-level APIs in the web
platform with security features that aim to prevent their abuse by a malicious
website. Storing data to or from an external drive requires the user to select
the file manually. Turning on the microphone or camera requires permission from
the user and may activate an indicator to let the user know data collection is
in progress. Printing a document requires explicit action as well. This API
provides a generic mechanism to connect to devices not covered by these
existing high-level APIs and so it requires a similarly generic mechanism for
preventing a malicious page from abusing a device.</p>
   <p>The first of these protections is the <code class="idl"><a data-link-type="idl" href="#dom-usb-requestdevice" id="ref-for-dom-usb-requestdevice-1">requestDevice()</a></code> function. The UA
may display a permission prompt when this function is called. Even for a
non-malicous page this action also preserves user privacy by preventing a site
from connecting to a device before the user is aware that such a connection is
possible. The UA may also display an indicator when a device connection is
active.</p>
   <p>Secondly, this specification requires that only secure contexts as described
in <a data-link-type="biblio" href="#biblio-powerful-features">[powerful-features]</a> can access USB devices. This ensures both the
authenticity of the code executing on behalf of the origin and that data read
from the device may not be intercepted in transit.</p>
   <h3 class="heading settled" data-level="2.2" id="attacking-a-device"><span class="secno">2.2. </span><span class="content">Attacking a Device</span><a class="self-link" href="#attacking-a-device"></a></h3>
   <p>Historically, unless they were created for high security applications, USB
devices have been designed to trust the host they are connected to and so the
host is the traditional guardian of access to the capabilities a device
provides. In the development of this specification two possibilities were
considered. First, the UA could notify the device of the origin from which a
request originated. This would be similar to the <code>Referrer</code> header
included in HTTP request.  The difficulty of this approach is that it places
the burden of access control on the device. Devices often have very limited
processing and storage capabilities and so an effort was made to limit the
amount of work necessary on the part of the device. The approach chosen by this
specification is to instead require that the UA control access. This is done
though a mechanism similiar to <a data-link-type="biblio" href="#biblio-cors">[CORS]</a>. This specification defines a way for
the device to provide the UA with a set of static data structures defining a
set of origins that are allowed to connect to it. For devices manufactured
before this specification is adopted information about allowed origins can also
be provided out of band through a <a data-link-type="dfn" href="#public-device-registry" id="ref-for-public-device-registry-1">public device registry</a>.</p>
   <p>A downside of this approach is that it provides no mechanism for third-party
developers to use this API with a device. We encourage device manufacturers to
enable software ecosystems to develop around their devices by providing a
high-level API on top of the trusted code running on their own origin. Such an
API could be accessed by embedding the manufacturerâs trusted origin as an
iframe within the developerâs own site. The trusted origin retains control over
the device through its ability to restrict the commands the third-party site
can send through it.</p>
   <h3 class="heading settled" data-level="2.3" id="attacking-the-host"><span class="secno">2.3. </span><span class="content">Attacking the Host</span><a class="self-link" href="#attacking-the-host"></a></h3>
   <p>If a device is compromised then in addition to abusing its own capabilities
the attacker may also use it to in turn attack the host to which it is connected
or if the exploit is persistent any host it is connected to later. The methods
above are the ways in which this specification attempts to mitigate this attack
vector for once the device is under the control of an attacker (for example, by
uploading a malicious firmware image) there is nothing that can be done by the
UA to prevent further damage.</p>
   <p>This specification recommends device manufacturers practice defense in depth by
designing their devices to only accept signed firmware updates and/or require
physical access to the device in order to apply some configuration changes.</p>
   <h2 class="heading settled" data-level="3" id="webusb-descriptors-and-requests"><span class="secno">3. </span><span class="content">WebUSB Descriptors and Requests</span><a class="self-link" href="#webusb-descriptors-and-requests"></a></h2>
   <p>This specification defines descriptors and commands the UA MAY use to gather
information about the device specific to implementing this API.</p>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.1" data-lt="WebUSB Platform Capability Descriptor" data-noexport="" id="webusb-platform-capability-descriptor"><span class="secno">3.1. </span><span class="content">WebUSB Platform Capability Descriptor</span></h3>
   <p>A device announces support for the WebUSB command set by including the
following <a data-link-type="dfn" href="#platform-descriptor" id="ref-for-platform-descriptor-1">Platform Descriptor</a> in its <a data-link-type="dfn" href="#binary-object-store" id="ref-for-binary-object-store-1">Binary Object
Store</a>:</p>
   <table>
    <tbody>
     <tr>
      <th>Offset
      <th>Field
      <th>Size
      <th>Value
      <th>Description
     <tr>
      <td>0
      <td>bLength
      <td>1
      <td>Number
      <td>Size of this descriptor. Must be set to 24.
     <tr>
      <td>1
      <td>bDescriptorType
      <td>1
      <td>Constant
      <td>DEVICE CAPABILITY descriptor type (<a data-link-type="biblio" href="#biblio-usb31">[USB31]</a> Table 9-6).
     <tr>
      <td>2
      <td>bDevCapabilityType
      <td>1
      <td>Constant
      <td>PLATFORM capability type (<a data-link-type="biblio" href="#biblio-usb31">[USB31]</a> Table 9-14).
     <tr>
      <td>3
      <td>bReserved
      <td>1
      <td>Number
      <td>This field is reserved and shall be set to zero.
     <tr>
      <td>4
      <td>PlatformCapabilityUUID
      <td>16
      <td>UUID
      <td>Must be set to {3408b638-09a9-47a0-8bfd-a0768815b665}.
     <tr>
      <td>20
      <td>bcdVersion
      <td>2
      <td>BCD
      <td>Protocol version supported. Must be set to 0x0100.
     <tr>
      <td>22
      <td>bVendorCode
      <td>1
      <td>Number
      <td>bRequest value used for issuing WebUSB requests.
     <tr>
      <td>23
      <td>iLandingPage
      <td>1
      <td>Number
      <td>URL descriptor index of the deviceâs landing page.
   </table>
   <h3 class="heading settled" data-level="3.2" id="device-requests"><span class="secno">3.2. </span><span class="content">WebUSB Device Requests</span><a class="self-link" href="#device-requests"></a></h3>
   <p>All control transfers defined by this specification are considered to
be vendor-specific requests. The <code>bVendorCode</code> value found
in the <a data-link-type="dfn" href="#webusb-platform-capability-descriptor" id="ref-for-webusb-platform-capability-descriptor-1">WebUSB Platform Capability Descriptor</a> provides the UA
with the <code>bRequest</code> the device expects the host to use when
issuing control transfers these requests. The request type is then
specified in the <code>wIndex</code> field.</p>
   <table>
    <caption>WebUSB Request Codes</caption>
    <tbody>
     <tr>
      <th>Constant
      <th>Value
     <tr>
      <td>GET_ALLOWED_ORIGINS
      <td>1
     <tr>
      <td>GET_URL
      <td>2
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.2.1" data-lt="Get Allowed Origins" data-noexport="" id="get-allowed-origins"><span class="secno">3.2.1. </span><span class="content">Get Allowed Origins</span></h4>
   <p>This request gets the set of origins allowed to access the device.
It is analogous to the <code>Access-Control-Allow-Origin</code> header defined by <a data-link-type="biblio" href="#biblio-cors">[CORS]</a>.</p>
   <p>The device MUST respond with data beginning with a <a data-link-type="dfn" href="#allowed-origins-header" id="ref-for-allowed-origins-header-1">Allowed
Origins Header</a> or stall the transfer.</p>
   <p>A <a data-link-type="dfn" href="#url-descriptor" id="ref-for-url-descriptor-1">URL descriptor</a> referenced by the response MUST be
interpreted as an origin (as defined by <a data-link-type="biblio" href="#biblio-rfc6454">[RFC6454]</a>) and so content
beyond the scheme/host/port triple MUST be ignored.</p>
   <p>If the UA chooses to enforce this policy then an origin <dfn data-dfn-type="dfn" data-lt="is allowed to access a device" data-noexport="" id="is-allowed-to-access-a-device">is
allowed to access a device<a class="self-link" href="#is-allowed-to-access-a-device"></a></dfn> if it matches one of the origins in
the top-level <a data-link-type="dfn" href="#allowed-origins-header" id="ref-for-allowed-origins-header-2">Allowed Origins Header</a> or any descriptors
following it. An origin <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="is allowed to access configuration" data-noexport="" id="is-allowed-to-access-configuration">is allowed to
access a configuration</dfn> if it matches one of the origins in
the corresponding <a data-link-type="dfn" href="#configuration-subset-header" id="ref-for-configuration-subset-header-1">Configuration Subset Header</a> or in the
top-level <a data-link-type="dfn" href="#allowed-origins-header" id="ref-for-allowed-origins-header-3">Allowed Origins Header</a>. An origin <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="is allowed to access interface" data-noexport="" id="is-allowed-to-access-interface">is allowed to access
an interface</dfn> if it matches one of the origins in the
corresponding <a data-link-type="dfn" href="#function-subset-header" id="ref-for-function-subset-header-1">Function Subset Header</a>, the <a data-link-type="dfn" href="#configuration-subset-header" id="ref-for-configuration-subset-header-2">Configuration
Subset Header</a> containing it or the top-level <a data-link-type="dfn" href="#allowed-origins-header" id="ref-for-allowed-origins-header-4">Allowed Origins
Header</a>.</p>
   <table>
    <tbody>
     <tr>
      <th>bmRequestType 
      <th>bRequest
      <th>wValue
      <th>wIndex
      <th>wLength
      <th>Data
     <tr>
      <td>11000000B
      <td><code>bVendorCode</code>
      <td>Zero
      <td>GET_ALLOWED_ORIGINS
      <td>Descriptor Length
      <td>Descriptor
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.2.2" data-lt="Get URL" data-noexport="" id="get-url"><span class="secno">3.2.2. </span><span class="content">Get URL</span></h4>
   <p>This request fetches the URL descriptor with the given index.</p>
   <p>The device MUST respond with the <a data-link-type="dfn" href="#url-descriptor" id="ref-for-url-descriptor-2">URL Descriptor</a> at the given
index or stall the transfer if the index is invalid.</p>
   <table>
    <tbody>
     <tr>
      <th>bmRequestType 
      <th>bRequest
      <th>wValue
      <th>wIndex
      <th>wLength
      <th>Data
     <tr>
      <td>11000000B
      <td><code>bVendorCode</code>
      <td>Descriptor Index
      <td>GET_URL
      <td>Descriptor Length
      <td>Descriptor
   </table>
   <h3 class="heading settled" data-level="3.3" id="webusb-descriptors"><span class="secno">3.3. </span><span class="content">WebUSB Descriptors</span><a class="self-link" href="#webusb-descriptors"></a></h3>
   <p>These descriptor types are returned by requests defined in this
specification.</p>
   <table>
    <caption>WebUSB Descriptor Types</caption>
    <tbody>
     <tr>
      <th>Constant
      <th>Value
     <tr>
      <td>WEBUSB_DESCRIPTOR_SET_HEADER
      <td>0
     <tr>
      <td>WEBUSB_CONFIGURATION_SUBSET_HEADER
      <td>1
     <tr>
      <td>WEBUSB_FUNCTION_SUBSET_HEADER
      <td>2
     <tr>
      <td>WEBUSB_URL
      <td>3
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.3.1" data-lt="Allowed Origins Header" data-noexport="" id="allowed-origins-header"><span class="secno">3.3.1. </span><span class="content">Allowed Origins Header</span></h4>
   <p>This header lists the set of origins allowed to access the entire
USB device. It MUST be followed by <code>bNumConfigurations</code> <a data-link-type="dfn" href="#configuration-subset-header" id="ref-for-configuration-subset-header-3">configuration subset headers</a> that control permission to
access particular configurations.</p>
   <p>This descriptor MUST be the beginning of the response to the <a data-link-type="dfn" href="#get-allowed-origins" id="ref-for-get-allowed-origins-1">Get
Allowed Origins</a> request. <code>wTotalLength</code> MUST be the
total length of the response.</p>
   <table>
    <tbody>
     <tr>
      <th>Offset
      <th>Field
      <th>Size
      <th>Value
      <th>Description
     <tr>
      <td>0
      <td>bLength
      <td>1
      <td>Number
      <td>Size of this descriptor. Must be set to <code>N + 5</code>.
     <tr>
      <td>1
      <td>bDescriptorType
      <td>1
      <td>Constant
      <td>WEBUSB_DESCRIPTOR_SET_HEADER.
     <tr>
      <td>2
      <td>wTotalLength
      <td>2
      <td>Number
      <td>Total size of this and all following descriptors.
     <tr>
      <td>4
      <td>bNumConfigurations
      <td>1
      <td>Number
      <td> Number of <a data-link-type="dfn" href="#configuration-subset-header" id="ref-for-configuration-subset-header-4">configuration subset headers</a> following this descriptor. 
     <tr>
      <td>5
      <td>iOrigin[<var>N</var>]
      <td><var>N</var> Ã 1
      <td>Number
      <td>Set of <code>bLength - 5</code> URL descriptor indicies.
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.3.2" data-lt="Configuration Subset Header" data-noexport="" id="configuration-subset-header"><span class="secno">3.3.2. </span><span class="content">Configuration Subset Header</span></h4>
   <p>This header lists the set of origins allowed to access the USB
device configuration described by the <a data-link-type="dfn" href="#configuration-descriptor" id="ref-for-configuration-descriptor-1">configuration
descriptor</a> with the given <code>bConfigurationValue</code>. It
MUST be followed by <code>bNumFunctions</code> <a data-link-type="dfn" href="#function-subset-header" id="ref-for-function-subset-header-2">function subset
headers</a> that control permission to access functions within this
configuration.</p>
   <p>This descriptor MUST follow a <a data-link-type="dfn" href="#allowed-origins-header" id="ref-for-allowed-origins-header-5">Allowed Origins Header</a>.</p>
   <table>
    <tbody>
     <tr>
      <th>Offset
      <th>Field
      <th>Size
      <th>Value
      <th>Description
     <tr>
      <td>0
      <td>bLength
      <td>1
      <td>Number
      <td> Size of this descriptor. Must be set to <code>N + 4</code>. 
     <tr>
      <td>1
      <td>bDescriptorType
      <td>1
      <td>Constant
      <td>WEBUSB_CONFIGURATION_SUBSET_HEADER.
     <tr>
      <td>2
      <td>bConfigurationValue
      <td>1
      <td>Number
      <td>Configuration to which this section applies.
     <tr>
      <td>3
      <td>bNumFunctions
      <td>1
      <td>Number
      <td> Number of <a data-link-type="dfn" href="#function-subset-header" id="ref-for-function-subset-header-3">function subset headers</a> following this
      descriptor. 
     <tr>
      <td>4
      <td>iOrigin[<var>N</var>]
      <td><var>N</var> Ã 1
      <td>Number
      <td>Set of <code>bLength - 4</code> URL descriptor indicies.
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.3.3" data-lt="Function Subset Header" data-noexport="" id="function-subset-header"><span class="secno">3.3.3. </span><span class="content">Function Subset Header</span></h4>
   <p>This header lists the set of origins allowed to access the USB
device interface described by the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-1">interface descriptor</a> with a <code>bInterfaceNumber</code> equal to <code>bFirstInterfaceNumber</code> or the set of interfaces defined
as a function by an <a data-link-type="dfn" href="#interface-association-descriptor" id="ref-for-interface-association-descriptor-1">interface association descriptor</a> with an
equal <code>bFirstInterfaceNumber</code>.</p>
   <p>This descriptor MUST follow a <a data-link-type="dfn" href="#configuration-subset-header" id="ref-for-configuration-subset-header-5">Configuration Subset Header</a>.</p>
   <table>
    <caption>WebUSB Function Subset Header</caption>
    <tbody>
     <tr>
      <th>Offset
      <th>Field
      <th>Size
      <th>Value
      <th>Description
     <tr>
      <td>0
      <td>bLength
      <td>1
      <td>Number
      <td> Size of this descriptor. Must be set to <code>N + 3</code>. 
     <tr>
      <td>1
      <td>bDescriptorType
      <td>1
      <td>Constant
      <td>WEBUSB_FUNCTION_SUBSET_HEADER.
     <tr>
      <td>2
      <td>bFirstInterfaceNumber
      <td>1
      <td>Number
      <td>First interface of the function to which this section applies.
     <tr>
      <td>3
      <td>iOrigin[<var>N</var>]
      <td><var>N</var> Ã 1
      <td>Number
      <td>Set of <code>bLength - 3</code> URL descriptor indicies.
   </table>
   <h4 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.3.4" data-lt="URL Descriptor" data-noexport="" id="url-descriptor"><span class="secno">3.3.4. </span><span class="content">URL Descriptor</span></h4>
   <p>This descriptor contains a single URL and is returned by the <a data-link-type="dfn" href="#get-url" id="ref-for-get-url-1">Get URL</a> request.</p>
   <table>
    <tbody>
     <tr>
      <th>Offset
      <th>Field
      <th>Size
      <th>Value
      <th>Description
     <tr>
      <td>0
      <td>bLength
      <td>1
      <td>Number
      <td>Size of this descriptor.
     <tr>
      <td>1
      <td>bDescriptorType
      <td>1
      <td>Constant
      <td>WEBUSB_URL.
     <tr>
      <td>2
      <td>bScheme
      <td>1
      <td>Number
      <td>URL scheme prefix.
     <tr>
      <td>3
      <td>URL
      <td>Variable
      <td>String
      <td>UTF-8 encoded URL (excluding the scheme prefix).
   </table>
   <p>The <code>bScheme</code> field MUST be one of these values:</p>
   <table>
    <caption>URL Prefixes</caption>
    <tbody>
     <tr>
      <th>Value
      <th>Prefix
     <tr>
      <td>0
      <td>"http://"
     <tr>
      <td>1
      <td>"https://"
   </table>
   <h3 class="heading settled dfn-paneled" data-dfn-type="dfn" data-level="3.4" data-lt="Public Device Registry" data-noexport="" id="public-device-registry"><span class="secno">3.4. </span><span class="content">Public Device Registry</span></h3>
   <p>The <a data-link-type="dfn" href="#webusb-platform-capability-descriptor" id="ref-for-webusb-platform-capability-descriptor-2">WebUSB Platform Capability Descriptor</a> and descriptors
returned by the requests defined above can be elided by publishing
this information in a public registry of supported USB devices. This
will allow device manufacturers to support WebUSB on existing devices.</p>
   <h2 class="heading settled" data-level="4" id="enumeration"><span class="secno">4. </span><span class="content">Device Enumeration</span><a class="self-link" href="#enumeration"></a></h2>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbdevicefilter">USBDeviceFilter</dfn> {
  <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="unsigned short " id="dom-usbdevicefilter-vendorid">vendorId</dfn>;
  <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="unsigned short " id="dom-usbdevicefilter-productid">productId</dfn>;
  <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-usbdevicefilter-classcode">classCode</dfn>;
  <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-usbdevicefilter-subclasscode">subclassCode</dfn>;
  <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-usbdevicefilter-protocolcode">protocolCode</dfn>;
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceFilter" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-usbdevicefilter-serialnumber">serialNumber</dfn>;
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbdevicerequestoptions">USBDeviceRequestOptions</dfn> {
  <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicefilter" id="ref-for-dictdef-usbdevicefilter-1">USBDeviceFilter</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDeviceRequestOptions" data-dfn-type="dict-member" data-export="" data-type="sequence<USBDeviceFilter> " id="dom-usbdevicerequestoptions-filters">filters</dfn>;
};

<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usb">USB</dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USB" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-usb-onconnect">onconnect</dfn>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USB" data-dfn-type="attribute" data-export="" data-type="EventHandler" id="dom-usb-ondisconnect">ondisconnect</dfn>;
  <span class="kt">Promise</span>&lt;<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-1">USBDevice</a>>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USB" data-dfn-type="method" data-export="" data-lt="getDevices()" id="dom-usb-getdevices">getDevices</dfn>();
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-2">USBDevice</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USB" data-dfn-type="method" data-export="" data-lt="requestDevice(options)" id="dom-usb-requestdevice">requestDevice</dfn>(<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicerequestoptions" id="ref-for-dictdef-usbdevicerequestoptions-1">USBDeviceRequestOptions</a> <dfn class="nv idl-code" data-dfn-for="USB/requestDevice(options)" data-dfn-type="argument" data-export="" id="dom-usb-requestdevice-options-options">options<a class="self-link" href="#dom-usb-requestdevice-options-options"></a></dfn>);
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a>]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usb" id="ref-for-usb-1">USB</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USB" id="dom-navigator-usb">usb</dfn>;
};
</pre>
   <p>A USB device <var>device</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="match a filter" data-noexport="" id="match-a-filter">matches a filter</dfn> <var>filter</var> if the following steps return <code>match</code>:</p>
   <ol start="4">
    <li data-md="">
     <p>Let <var>deviceDesc</var> be <var>device</var>âs <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-1">device descriptor</a>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-vendorid" id="ref-for-dom-usbdevicefilter-vendorid-1">vendorId</a></code></code> is present then, if <code><var>deviceDesc</var>.idVendor</code> does not equal <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-vendorid" id="ref-for-dom-usbdevicefilter-vendorid-2">vendorId</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-productid" id="ref-for-dom-usbdevicefilter-productid-1">productId</a></code></code> is present then, if <code><var>deviceDesc</var>.idProduct</code> does not equal <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-productid" id="ref-for-dom-usbdevicefilter-productid-2">productId</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-1">classCode</a></code></code> is present then,
 for each of <var>device</var>âs interfaceâs <var>interface</var> run the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>desc</var> be <var>interface</var>âs <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-2">interface descriptor</a>.</p>
      <li data-md="">
       <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-2">classCode</a></code></code> is present
  then, if <code><var>desc</var>.bInterfaceClass</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-3">classCode</a></code></code>, continue to
  the next interface.</p>
      <li data-md="">
       <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-1">subclassCode</a></code></code> is present
  then, if <code><var>desc</var>.bInterfaceSubClass</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-2">subclassCode</a></code></code>, continue to
  the next interface.</p>
      <li data-md="">
       <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-protocolcode" id="ref-for-dom-usbdevicefilter-protocolcode-1">protocolCode</a></code></code> is present
  then, if <code><var>desc</var>.bInterfaceProtocol</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-protocolcode" id="ref-for-dom-usbdevicefilter-protocolcode-2">protocolCode</a></code></code>, continue to
  the next interface.</p>
      <li data-md="">
       <p>Return <code>match</code>.</p>
     </ol>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-4">classCode</a></code></code> is present then, if <code><var>deviceDesc</var>.bDeviceClass</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-5">classCode</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-3">subclassCode</a></code></code> is present then,
 if <code><var>deviceDesc</var>.bDeviceSubClass</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-4">subclassCode</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-protocolcode" id="ref-for-dom-usbdevicefilter-protocolcode-3">protocolCode</a></code></code> is present then,
 if <code><var>deviceDesc</var>.bDeviceProtocol</code> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-protocolcode" id="ref-for-dom-usbdevicefilter-protocolcode-4">protocolCode</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-serialnumber" id="ref-for-dom-usbdevicefilter-serialnumber-1">serialNumber</a></code></code> is present then,
 let <var>serialNumber</var> be the <a data-link-type="dfn" href="#string-descriptor" id="ref-for-string-descriptor-1">string descriptor</a> with index <code><var>deviceDesc</var>.iSerialNumber</code>. If <var>device</var> returns an error when
 requesting <var>serialNumber</var> or <var>serialNumber</var> is not equal to <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-serialnumber" id="ref-for-dom-usbdevicefilter-serialnumber-2">serialNumber</a></code></code>, return <code>mismatch</code>.</p>
    <li data-md="">
     <p>Return <code>match</code>.</p>
   </ol>
   <p>A <code class="idl"><a data-link-type="idl" href="#dictdef-usbdevicefilter" id="ref-for-dictdef-usbdevicefilter-2">USBDeviceFilter</a></code> <var>filter</var> <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="is not a valid filter" data-noexport="" id="is-not-a-valid-filter">is valid</dfn> if the following steps
return <code>valid</code>:</p>
   <ol>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-protocolcode" id="ref-for-dom-usbdevicefilter-protocolcode-5">protocolCode</a></code></code> is present then,
 if <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-5">subclassCode</a></code></code> is not present,
 return <code>invalid</code>.</p>
    <li data-md="">
     <p>If <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-subclasscode" id="ref-for-dom-usbdevicefilter-subclasscode-6">subclassCode</a></code></code> is present then,
 if <code><var>filter</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevicefilter-classcode" id="ref-for-dom-usbdevicefilter-classcode-6">classCode</a></code></code> is not present,
 return <code>invalid</code>.</p>
    <li data-md="">
     <p>Return <code>valid</code>.</p>
   </ol>
   <p>The UA MUST be able to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="enumerate-all-devices-attached-to-the-system">enumerate all devices attached to the system</dfn>.
It is, however NOT required to perform this work each time an algorithm
requests an enumeration. The UA MAY cache the result of the first enumeration
it performs and then begin monitoring for device connection and disconnection
events, adding connected devices to its cached enumeration and removing
disconnected devices. This mode of operation is preferred as it reduces the
number of operating system calls made and amount of bus traffic generated by
the <code class="idl"><a data-link-type="idl" href="#dom-usb-getdevices" id="ref-for-dom-usb-getdevices-1">getDevices()</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usb-requestdevice" id="ref-for-dom-usb-requestdevice-2">requestDevice()</a></code> methods.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usb-onconnect" id="ref-for-dom-usb-onconnect-1">onconnect</a></code> attribute is an Event handler IDL attribute for the <a data-link-type="dfn" href="#connect" id="ref-for-connect-1">connect</a> event type.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usb-ondisconnect" id="ref-for-dom-usb-ondisconnect-1">ondisconnect</a></code> attribute is an Event handler IDL attribute for the <a data-link-type="dfn" href="#disconnect" id="ref-for-disconnect-1">disconnect</a> event type.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usb-getdevices" id="ref-for-dom-usb-getdevices-2">getDevices()</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> and
run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p><a data-link-type="dfn" href="#enumerate-all-devices-attached-to-the-system" id="ref-for-enumerate-all-devices-attached-to-the-system-1">Enumerate all devices attached to the system</a>. Let this result be <var>enumerationResult</var>.</p>
    <li data-md="">
     <p>Let <var>devices</var> be a new empty <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects">Array</a></code>.</p>
    <li data-md="">
     <p>For each <var>device</var> in <var>enumerationResult</var>:</p>
     <ol>
      <li data-md="">
       <p>If this is the first call to this method, <a data-link-type="dfn" href="#check-permissions-for-device" id="ref-for-check-permissions-for-device-1">check permissions for <var>device</var></a>.</p>
      <li data-md="">
       <p>Search for an element <var>allowedDevice</var> in <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-1">allowedDevices</a></code></code> where <var>device</var> is in <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-1">[[devices]]</a></code>. If no such element
exists, continue to the next <var>device</var>.</p>
      <li data-md="">
       <p>Add the <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-3">USBDevice</a></code> object representing <var>device</var> to <var>devices</var>.</p>
     </ol>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>devices</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usb-requestdevice" id="ref-for-dom-usb-requestdevice-3">requestDevice()</a></code> method, when invoked, MUST run the following steps:</p>
   <ol>
    <li data-md="">
     <p><a data-link-type="dfn">Request a permission</a>, passing:</p>
<pre class="highlight"><span class="p">{</span>
  name<span class="o">:</span> <span class="s2">"usb"</span>
  filters<span class="o">:</span> <var>options</var><span class="p">.</span><a data-link-type="idl" href="#dom-usbdevicerequestoptions-filters" id="ref-for-dom-usbdevicerequestoptions-filters-1">filters</a>
<span class="p">}</span>
</pre>
     <p>Let <var>permissionResult</var> be the resulting <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code>.</p>
    <li data-md="">
     <p>Return the result of <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#transforming-by">transforming</a> <var>permissionResult</var> with a
 fullfillment handler that takes an argument <var>result</var> and runs the following
 steps:</p>
     <ol>
      <li data-md="">
       <p>If <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-1">devices</a></code></code> is empty,
  throw a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
      <li data-md="">
       <p>Return <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-2">devices</a></code>[0]</code>.</p>
     </ol>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="request-the-usb-permission">request the "usb" permission</dfn>, given a <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-1">USBPermissionStorage</a></code> <var>storage</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissiondescriptor" id="ref-for-dictdef-usbpermissiondescriptor-1">USBPermissionDescriptor</a></code> <var>options</var> and a <code class="idl"><a data-link-type="idl" href="#usbpermissionresult" id="ref-for-usbpermissionresult-1">USBPermissionResult</a></code> <var>status</var>, the UA MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following
steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>For each <var>filter</var> in <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-1">filters</a></code></code> if <var>filter</var> <a data-link-type="dfn" href="#is-not-a-valid-filter" id="ref-for-is-not-a-valid-filter-1">is not a valid filter</a> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If the algorithm is not <a data-link-type="dfn">allowed to show a popup</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstatus-state">state</a></code></code> to <code><var>storage</var>.<code class="idl"><a data-link-type="idl">state</a></code></code>.</p>
    <li data-md="">
     <p>If <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstatus-state">state</a></code></code> is <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied">"denied"</a></code>, set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-3">devices</a></code></code> to an empty <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-frozen-array">FrozenArray</a></code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var> with <code>undefined</code>,
 and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#enumerate-all-devices-attached-to-the-system" id="ref-for-enumerate-all-devices-attached-to-the-system-2">Enumerate all devices attached to the system</a>. Let this result be <var>enumerationResult</var>.</p>
    <li data-md="">
     <p>Remove devices from <var>enumerationResult</var> if they do not <a data-link-type="dfn" href="#match-a-filter" id="ref-for-match-a-filter-1">match a
 filter</a> in <code><var>options</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-2">filters</a></code></code>.</p>
     <p>The UA MAY apply additional origin-based filtering of available devices by
 consulting an authoritative list of device-origin mappings or referring to
 the origin list returned by the <a data-link-type="dfn" href="#get-allowed-origins" id="ref-for-get-allowed-origins-2">Get Allowed Origins</a> request.</p>
     <p>The UA MAY provide additional mechanisms for blacklisting or whitelisting
 specific devices for arbitrary origins.</p>
    <li data-md="">
     <p>Display a prompt to the user requesting they select a device from <var>enumerationResult</var>. The UA SHOULD show a human-readable name for each
 device.</p>
    <li data-md="">
     <p>Wait for the user to have selected a <var>device</var> or cancelled the
 prompt.</p>
    <li data-md="">
     <p>If the user cancels the prompt, set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-4">devices</a></code></code> to an empty <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-frozen-array">FrozenArray</a></code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var> with <code>undefined</code>,
 and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#add-device-to-storage" id="ref-for-add-device-to-storage-1">Add <var>device</var> to <var>storage</var></a>.</p>
    <li data-md="">
     <p>Let <var>deviceObj</var> be the <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-4">USBDevice</a></code> object representing <var>device</var>.</p>
    <li data-md="">
     <p>Set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-5">devices</a></code></code> to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-frozen-array">FrozenArray</a></code> containing <var>deviceObj</var> as its only element.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <code>undefined</code>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="add device to storage" data-noexport="" id="add-device-to-storage">add an allowed <a data-link-type="dfn" href="#usb-device" id="ref-for-usb-device-1">USB device</a></dfn> <var>device</var> to <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-2">USBPermissionStorage</a></code> <var>storage</var>, the UA MUST run the following
steps:</p>
   <ol>
    <li data-md="">
     <p>Search for an element <var>allowedDevice</var> in <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-2">allowedDevices</a></code></code> where <var>device</var> is in <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-2">[[devices]]</a></code>. If one is found, abort
 these steps.</p>
    <li data-md="">
     <p>Let <var>vendorId</var> and <var>productId</var> be <var>device</var>âs <a data-link-type="dfn" href="#vendor-id" id="ref-for-vendor-id-1">vendor ID</a> and <a data-link-type="dfn" href="#product-id" id="ref-for-product-id-1">product ID</a>.</p>
    <li data-md="">
     <p>Let <var>serialNumber</var> be <var>device</var>âs <a data-link-type="dfn" href="#serial-number" id="ref-for-serial-number-1">serial number</a> if it has one,
 otherwise <code>undefined</code>.</p>
    <li data-md="">
     <p>Append <code>{ vendorId: <var>vendorId</var>, productId: <var>productId</var>, serialNumber: <var>serialNumber</var> }</code>,
 with a <code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-3">[[devices]]</a></code> internal slot containing a single entry <var>device</var> to <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-3">allowedDevices</a></code></code>.</p>
   </ol>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="check permissions for device" data-noexport="" id="check-permissions-for-device">check permissions for a new <a data-link-type="dfn" href="#usb-device" id="ref-for-usb-device-2">USB device</a></dfn> <var>device</var>, given a <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-3">USBPermissionStorage</a></code> <var>storage</var>,
the UA MUST run the following steps:</p>
   <ol>
    <li data-md="">
     <p>Let <var>vendorId</var> and <var>productId</var> be <var>device</var>âs <a data-link-type="dfn" href="#vendor-id" id="ref-for-vendor-id-2">vendor ID</a> and <a data-link-type="dfn" href="#product-id" id="ref-for-product-id-2">product ID</a>.</p>
    <li data-md="">
     <p>Let <var>serialNumber</var> be <var>device</var>âs if it has one, otherwise <code>undefined</code>.</p>
    <li data-md="">
     <p>Search for an element <var>allowedDevice</var> in <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-4">allowedDevices</a></code></code> where:</p>
     <ul>
      <li data-md="">
       <p><code><var>allowedDevice</var>.<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-vendorid" id="ref-for-dom-allowedusbdevice-vendorid-1">vendorId</a></code></code> equals <var>vendorId</var>.</p>
      <li data-md="">
       <p><code><var>allowedDevice</var>.<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-productid" id="ref-for-dom-allowedusbdevice-productid-1">productId</a></code></code> equals <var>productId</var>.</p>
      <li data-md="">
       <p><code><var>allowedDevice</var>.<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-serialnumber" id="ref-for-dom-allowedusbdevice-serialnumber-1">serialNumber</a></code></code> equals <var>serialNumber</var>.</p>
     </ul>
    <li data-md="">
     <p>If no such element exists, return <code>null</code>.</p>
    <li data-md="">
     <p>Add <var>device</var> to <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-4">[[devices]]</a></code>.</p>
    <li data-md="">
     <p>Return <var>allowedDevice</var>.</p>
   </ol>
   <h3 class="heading settled" data-level="4.1" id="events"><span class="secno">4.1. </span><span class="content">Events</span><a class="self-link" href="#events"></a></h3>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbconnectioneventinit">USBConnectionEventInit</dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-5">USBDevice</a> <dfn class="nv idl-code" data-dfn-for="USBConnectionEventInit" data-dfn-type="dict-member" data-export="" data-type="USBDevice " id="dom-usbconnectioneventinit-device">device<a class="self-link" href="#dom-usbconnectioneventinit-device"></a></dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBConnectionEvent" data-dfn-type="constructor" data-export="" data-lt="USBConnectionEvent(type, eventInitDict)" id="dom-usbconnectionevent-usbconnectionevent">Constructor<a class="self-link" href="#dom-usbconnectionevent-usbconnectionevent"></a></dfn>(<span class="kt">DOMString</span> <dfn class="nv idl-code" data-dfn-for="USBConnectionEvent/USBConnectionEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-type">type<a class="self-link" href="#dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-type"></a></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-usbconnectioneventinit" id="ref-for-dictdef-usbconnectioneventinit-1">USBConnectionEventInit</a> <dfn class="nv idl-code" data-dfn-for="USBConnectionEvent/USBConnectionEvent(type, eventInitDict)" data-dfn-type="argument" data-export="" id="dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-eventinitdict">eventInitDict<a class="self-link" href="#dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-eventinitdict"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbconnectionevent">USBConnectionEvent</dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event">Event</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-6">USBDevice</a> <dfn class="nv idl-code" data-dfn-for="USBConnectionEvent" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBDevice" id="dom-usbconnectionevent-device">device<a class="self-link" href="#dom-usbconnectionevent-device"></a></dfn>;
};
</pre>
   <p>When the UA detects a new <a data-link-type="dfn" href="#usb-device" id="ref-for-usb-device-3">USB device</a> <var>device</var> connected to the host it
MUST perform the following steps for each script execution environment:</p>
   <ol>
    <li data-md="">
     <p>Let <var>storage</var> be the <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-4">USBPermissionStorage</a></code> object in the current
 script execution environment.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#check-permissions-for-device" id="ref-for-check-permissions-for-device-2">Check permissions for <var>device</var></a> with <var>storage</var> and let <var>allowedDevice</var> be the result.</p>
    <li data-md="">
     <p>If <var>allowedDevice</var> is <code>null</code>, abort these steps.</p>
    <li data-md="">
     <p>Let <var>deviceObj</var> be the <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-7">USBDevice</a></code> object representing <var>device</var>.</p>
    <li data-md="">
     <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="#usbconnectionevent" id="ref-for-usbconnectionevent-1">USBConnectionEvent</a></code>, with the <code>device</code> attribute set to <var>deviceObj</var>.</p>
    <li data-md="">
     <p>Fire an event named <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="connect">connect</dfn> on <code class="idl"><a data-link-type="idl" href="#dom-navigator-usb" id="ref-for-dom-navigator-usb-1">usb</a></code>, using <var>event</var> as the event object.</p>
   </ol>
   <p>When the UA detects a <a data-link-type="dfn" href="#usb-device" id="ref-for-usb-device-4">USB device</a> <var>device</var> has been disconnected from the
host it MUST perform the following steps for each script execution environment:</p>
   <ol>
    <li data-md="">
     <p>Let <var>storage</var> be the <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-5">USBPermissionStorage</a></code> object in the current
 script execution environment.</p>
    <li data-md="">
     <p>Search for an element <var>allowedDevice</var> in <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-5">allowedDevices</a></code></code> where <var>device</var> is in <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-5">[[devices]]</a></code>, if no such element exists,
 abort these steps.</p>
    <li data-md="">
     <p>Remove <var>device</var> from <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-6">[[devices]]</a></code>.</p>
    <li data-md="">
     <p>If <code><var>allowedDevice</var>.<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-serialnumber" id="ref-for-dom-allowedusbdevice-serialnumber-2">serialNumber</a></code></code> is <code>undefined</code> and <var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-7">[[devices]]</a></code> is empty remove <var>allowedDevice</var> from <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-6">allowedDevices</a></code></code>.</p>
    <li data-md="">
     <p>Let <var>device</var> be the <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-8">USBDevice</a></code> object representing <var>device</var>.</p>
    <li data-md="">
     <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="#usbconnectionevent" id="ref-for-usbconnectionevent-2">USBConnectionEvent</a></code>, with the <code>device</code> attribute set to <var>device</var>.</p>
    <li data-md="">
     <p>Fire an event named <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="disconnect">disconnect</dfn> on <code class="idl"><a data-link-type="idl" href="#dom-navigator-usb" id="ref-for-dom-navigator-usb-2">usb</a></code>, using <var>event</var> as the event object.</p>
   </ol>
   <h3 class="heading settled" data-level="4.2" id="permission-api"><span class="secno">4.2. </span><span class="content">Permission API Integration</span><a class="self-link" href="#permission-api"></a></h3>
   <p>The <a data-link-type="biblio" href="#biblio-permissions">[permissions]</a> API provides a uniform way for websites to request
permissions from users and query which permissions they have.</p>
   <p>The <dfn class="idl-code" data-dfn-for="PermissionName" data-dfn-type="enum-value" data-export="" id="dom-permissionname-usb">"usb"<a class="self-link" href="#dom-permissionname-usb"></a></dfn> <a data-link-type="dfn">permission</a> is
defined as follows:</p>
   <dl>
    <dt><a data-link-type="dfn" href="https://w3c.github.io/permissions/#permission-descriptor-type">permission descriptor type</a>
    <dd>
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbpermissiondescriptor">USBPermissionDescriptor</dfn> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor">PermissionDescriptor</a> {
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicefilter" id="ref-for-dictdef-usbdevicefilter-3">USBDeviceFilter</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBPermissionDescriptor" data-dfn-type="dict-member" data-export="" data-type="sequence<USBDeviceFilter> " id="dom-usbpermissiondescriptor-filters">filters</dfn>;
};
</pre>
    <dt><a data-link-type="dfn">permission storage type</a>
    <dd>
      <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-6">USBPermissionStorage</a></code>, defined as: 
<pre class="idl highlight def"><span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-allowedusbdevice">AllowedUSBDevice</dfn> {
  <span class="kt">required</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="AllowedUSBDevice" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-allowedusbdevice-vendorid">vendorId</dfn>;
  <span class="kt">required</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="AllowedUSBDevice" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-allowedusbdevice-productid">productId</dfn>;
  <span class="kt">DOMString</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="AllowedUSBDevice" data-dfn-type="dict-member" data-export="" data-type="DOMString " id="dom-allowedusbdevice-serialnumber">serialNumber</dfn>;
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbpermissionstorage">USBPermissionStorage</dfn> : <a class="n" data-link-type="idl-name">PermissionStorage</a> {
  <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-allowedusbdevice" id="ref-for-dictdef-allowedusbdevice-1">AllowedUSBDevice</a>> <dfn class="nv dfn-paneled idl-code" data-default="None" data-dfn-for="USBPermissionStorage" data-dfn-type="dict-member" data-export="" data-type="sequence<AllowedUSBDevice> " id="dom-usbpermissionstorage-alloweddevices">allowedDevices</dfn> = [];
};
</pre>
     <p><code class="idl"><a data-link-type="idl" href="#dictdef-allowedusbdevice" id="ref-for-dictdef-allowedusbdevice-2">AllowedUSBDevice</a></code> instances have an internal slot <dfn class="dfn-paneled idl-code" data-dfn-for="AllowedUSBDevice" data-dfn-type="attribute" data-export="" id="dom-allowedusbdevice-devices-slot">[[devices]]</dfn> that holds an
    array of <a data-link-type="dfn" href="#usb-device" id="ref-for-usb-device-5">USB devices</a>.</p>
    <dt><a data-link-type="dfn" href="https://w3c.github.io/permissions/#permission-result-type">permission result type</a>
    <dd>
<pre class="idl highlight def"><span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbpermissionresult">USBPermissionResult</dfn> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/permissions/#permissionstatus">PermissionStatus</a> {
  <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-9">USBDevice</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBPermissionResult" data-dfn-type="attribute" data-export="" data-type="FrozenArray<USBDevice>" id="dom-usbpermissionresult-devices">devices</dfn>;
};
</pre>
    <dt><a data-link-type="dfn" href="https://w3c.github.io/permissions/#permission-query-algorithm">permission query algorithm</a>
    <dd>
      To <dfn data-dfn-type="dfn" data-noexport="" id="query-the-usb-permission">query the "usb" permission<a class="self-link" href="#query-the-usb-permission"></a></dfn> with a <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissiondescriptor" id="ref-for-dictdef-usbpermissiondescriptor-2">USBPermissionDescriptor</a></code> <var>desc</var>, a <code class="idl"><a data-link-type="idl" href="#dictdef-usbpermissionstorage" id="ref-for-dictdef-usbpermissionstorage-7">USBPermissionStorage</a></code> <var>storage</var>, and a <code class="idl"><a data-link-type="idl" href="#usbpermissionresult" id="ref-for-usbpermissionresult-2">USBPermissionResult</a></code> <var>status</var>, the UA must: 
     <ol>
      <li data-md="">
       <p>If <code><var>desc</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-3">filters</a></code></code> is set then,
 for each <var>filter</var> in <code><var>desc</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-4">filters</a></code></code> if <var>filter</var> <a data-link-type="dfn" href="#is-not-a-valid-filter" id="ref-for-is-not-a-valid-filter-2">is not a valid filter</a> then raise a <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> and abort these
 steps.</p>
      <li data-md="">
       <p>Set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstatus-state">state</a></code></code> to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-prompt">"prompt"</a></code>.</p>
      <li data-md="">
       <p>Let <var>matchingDevices</var> be a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects">Array</a></code>.</p>
      <li data-md="">
       <p>For each <var>allowedDevice</var> in <code><var>storage</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionstorage-alloweddevices" id="ref-for-dom-usbpermissionstorage-alloweddevices-7">allowedDevices</a></code></code> and
 for each <var>device</var> in <code><var>allowedDevice</var>@<code class="idl"><a data-link-type="idl" href="#dom-allowedusbdevice-devices-slot" id="ref-for-dom-allowedusbdevice-devices-slot-8">[[devices]]</a></code></code>, run
 the following substeps:</p>
       <ol>
        <li data-md="">
         <p>If <code><var>desc</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-5">filters</a></code></code> is set
  and <var>device</var> does not <a data-link-type="dfn" href="#match-a-filter" id="ref-for-match-a-filter-2">match a filter</a> in <code><var>desc</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissiondescriptor-filters" id="ref-for-dom-usbpermissiondescriptor-filters-6">filters</a></code></code>, continue
  to the next <var>device</var>.</p>
        <li data-md="">
         <p>Get the <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-10">USBDevice</a></code> representing <var>device</var> and add it to <var>matchingDevices</var>.</p>
       </ol>
      <li data-md="">
       <p>Set <code><var>status</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbpermissionresult-devices" id="ref-for-dom-usbpermissionresult-devices-6">devices</a></code></code> to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-frozen-array">FrozenArray</a></code> whose contents are <var>matchingDevices</var>.</p>
     </ol>
    <dt><a data-link-type="dfn" href="https://w3c.github.io/permissions/#permission-request-algorithm">permission request algorithm</a>
    <dd><a data-link-type="dfn" href="#request-the-usb-permission" id="ref-for-request-the-usb-permission-1">Request the "usb" permission</a>.
   </dl>
   <h2 class="heading settled" data-level="5" id="device-usage"><span class="secno">5. </span><span class="content">Device Usage</span><a class="self-link" href="#device-usage"></a></h2>
<pre class="idl highlight def"><span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbdevice">USBDevice</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-usbversionmajor">usbVersionMajor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-usbversionminor">usbVersionMinor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-usbversionsubminor">usbVersionSubminor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-deviceclass">deviceClass</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-devicesubclass">deviceSubclass</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-deviceprotocol">deviceProtocol</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned short" id="dom-usbdevice-vendorid">vendorId</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned short" id="dom-usbdevice-productid">productId</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-deviceversionmajor">deviceVersionMajor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-deviceversionminor">deviceVersionMinor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbdevice-deviceversionsubminor">deviceVersionSubminor</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString?" id="dom-usbdevice-manufacturername">manufacturerName</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString?" id="dom-usbdevice-productname">productName</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString?" id="dom-usbdevice-serialnumber">serialNumber</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbconfiguration" id="ref-for-usbconfiguration-1">USBConfiguration</a>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBConfiguration?" id="dom-usbdevice-configuration">configuration</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbconfiguration" id="ref-for-usbconfiguration-2">USBConfiguration</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBConfiguration>" id="dom-usbdevice-configurations">configurations</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">boolean</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-usbdevice-opened">opened</dfn>;
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="open()" id="dom-usbdevice-open">open</dfn>();
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="close()" id="dom-usbdevice-close">close</dfn>();
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="selectConfiguration(configurationValue)" id="dom-usbdevice-selectconfiguration">selectConfiguration</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/selectConfiguration(configurationValue)" data-dfn-type="argument" data-export="" id="dom-usbdevice-selectconfiguration-configurationvalue-configurationvalue">configurationValue<a class="self-link" href="#dom-usbdevice-selectconfiguration-configurationvalue-configurationvalue"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="claimInterface(interfaceNumber)" id="dom-usbdevice-claiminterface">claimInterface</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/claimInterface(interfaceNumber)" data-dfn-type="argument" data-export="" id="dom-usbdevice-claiminterface-interfacenumber-interfacenumber">interfaceNumber<a class="self-link" href="#dom-usbdevice-claiminterface-interfacenumber-interfacenumber"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="releaseInterface(interfaceNumber)" id="dom-usbdevice-releaseinterface">releaseInterface</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/releaseInterface(interfaceNumber)" data-dfn-type="argument" data-export="" id="dom-usbdevice-releaseinterface-interfacenumber-interfacenumber">interfaceNumber<a class="self-link" href="#dom-usbdevice-releaseinterface-interfacenumber-interfacenumber"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="selectAlternateInterface(interfaceNumber, alternateSetting)" id="dom-usbdevice-selectalternateinterface">selectAlternateInterface</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/selectAlternateInterface(interfaceNumber, alternateSetting)" data-dfn-type="argument" data-export="" id="dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-interfacenumber">interfaceNumber<a class="self-link" href="#dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-interfacenumber"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/selectAlternateInterface(interfaceNumber, alternateSetting)" data-dfn-type="argument" data-export="" id="dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-alternatesetting">alternateSetting<a class="self-link" href="#dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-alternatesetting"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbintransferresult" id="ref-for-usbintransferresult-1">USBInTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="controlTransferIn(setup, length)" id="dom-usbdevice-controltransferin">controlTransferIn</dfn>(<a class="n" data-link-type="idl-name" href="#dictdef-usbcontroltransferparameters" id="ref-for-dictdef-usbcontroltransferparameters-1">USBControlTransferParameters</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/controlTransferIn(setup, length)" data-dfn-type="argument" data-export="" id="dom-usbdevice-controltransferin-setup-length-setup">setup<a class="self-link" href="#dom-usbdevice-controltransferin-setup-length-setup"></a></dfn>, <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/controlTransferIn(setup, length)" data-dfn-type="argument" data-export="" id="dom-usbdevice-controltransferin-setup-length-length">length<a class="self-link" href="#dom-usbdevice-controltransferin-setup-length-length"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbouttransferresult" id="ref-for-usbouttransferresult-1">USBOutTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="controlTransferOut(setup, data)|controlTransferOut(setup)" id="dom-usbdevice-controltransferout">controlTransferOut</dfn>(<a class="n" data-link-type="idl-name" href="#dictdef-usbcontroltransferparameters" id="ref-for-dictdef-usbcontroltransferparameters-2">USBControlTransferParameters</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/controlTransferOut(setup, data), USBDevice/controlTransferOut(setup)" data-dfn-type="argument" data-export="" id="dom-usbdevice-controltransferout-setup-data-setup">setup<a class="self-link" href="#dom-usbdevice-controltransferout-setup-data-setup"></a></dfn>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/controlTransferOut(setup, data), USBDevice/controlTransferOut(setup)" data-dfn-type="argument" data-export="" id="dom-usbdevice-controltransferout-setup-data-data">data<a class="self-link" href="#dom-usbdevice-controltransferout-setup-data-data"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="clearHalt(direction, endpointNumber)" id="dom-usbdevice-clearhalt">clearHalt</dfn>(<a class="n" data-link-type="idl-name" href="#enumdef-usbdirection" id="ref-for-enumdef-usbdirection-1">USBDirection</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/clearHalt(direction, endpointNumber)" data-dfn-type="argument" data-export="" id="dom-usbdevice-clearhalt-direction-endpointnumber-direction">direction<a class="self-link" href="#dom-usbdevice-clearhalt-direction-endpointnumber-direction"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/clearHalt(direction, endpointNumber)" data-dfn-type="argument" data-export="" id="dom-usbdevice-clearhalt-direction-endpointnumber-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbdevice-clearhalt-direction-endpointnumber-endpointnumber"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbintransferresult" id="ref-for-usbintransferresult-2">USBInTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="transferIn(endpointNumber, length)" id="dom-usbdevice-transferin">transferIn</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/transferIn(endpointNumber, length)" data-dfn-type="argument" data-export="" id="dom-usbdevice-transferin-endpointnumber-length-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbdevice-transferin-endpointnumber-length-endpointnumber"></a></dfn>, <span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/transferIn(endpointNumber, length)" data-dfn-type="argument" data-export="" id="dom-usbdevice-transferin-endpointnumber-length-length">length<a class="self-link" href="#dom-usbdevice-transferin-endpointnumber-length-length"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbouttransferresult" id="ref-for-usbouttransferresult-2">USBOutTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="transferOut(endpointNumber, data)" id="dom-usbdevice-transferout">transferOut</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/transferOut(endpointNumber, data)" data-dfn-type="argument" data-export="" id="dom-usbdevice-transferout-endpointnumber-data-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbdevice-transferout-endpointnumber-data-endpointnumber"></a></dfn>, <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/transferOut(endpointNumber, data)" data-dfn-type="argument" data-export="" id="dom-usbdevice-transferout-endpointnumber-data-data">data<a class="self-link" href="#dom-usbdevice-transferout-endpointnumber-data-data"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferresult" id="ref-for-usbisochronousintransferresult-1">USBIsochronousInTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="isochronousTransferIn(endpointNumber, packetLengths)" id="dom-usbdevice-isochronoustransferin">isochronousTransferIn</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/isochronousTransferIn(endpointNumber, packetLengths)" data-dfn-type="argument" data-export="" id="dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-endpointnumber"></a></dfn>, <span class="kt">sequence</span>&lt;<span class="kt">unsigned</span> <span class="kt">long</span>> <dfn class="nv idl-code" data-dfn-for="USBDevice/isochronousTransferIn(endpointNumber, packetLengths)" data-dfn-type="argument" data-export="" id="dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-packetlengths">packetLengths<a class="self-link" href="#dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-packetlengths"></a></dfn>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferresult" id="ref-for-usbisochronousouttransferresult-1">USBIsochronousOutTransferResult</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="isochronousTransferOut(endpointNumber, data, packetLengths)" id="dom-usbdevice-isochronoustransferout">isochronousTransferOut</dfn>(<span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBDevice/isochronousTransferOut(endpointNumber, data, packetLengths)" data-dfn-type="argument" data-export="" id="dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-endpointnumber"></a></dfn>, <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <dfn class="nv idl-code" data-dfn-for="USBDevice/isochronousTransferOut(endpointNumber, data, packetLengths)" data-dfn-type="argument" data-export="" id="dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-data">data<a class="self-link" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-data"></a></dfn>, <span class="kt">sequence</span>&lt;<span class="kt">unsigned</span> <span class="kt">long</span>> <dfn class="nv idl-code" data-dfn-for="USBDevice/isochronousTransferOut(endpointNumber, data, packetLengths)" data-dfn-type="argument" data-export="" id="dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-packetlengths">packetLengths<a class="self-link" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-packetlengths"></a></dfn>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBDevice" data-dfn-type="method" data-export="" data-lt="reset()" id="dom-usbdevice-reset">reset</dfn>();
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-usbversionmajor" id="ref-for-dom-usbdevice-usbversionmajor-1">usbVersionMajor</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-usbversionminor" id="ref-for-dom-usbdevice-usbversionminor-1">usbVersionMinor</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-usbversionsubminor" id="ref-for-dom-usbdevice-usbversionsubminor-1">usbVersionSubminor</a></code> attributes declare the USB protocol version
supported by the device. They SHALL correspond to the value of the <code>bcdUSB</code> field of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-2">device descriptor</a> such that a value of <code>0xJJMN</code> has major version <code>JJ</code>, minor version <code>M</code> and subminor version <code>N</code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-deviceclass" id="ref-for-dom-usbdevice-deviceclass-1">deviceClass</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-devicesubclass" id="ref-for-dom-usbdevice-devicesubclass-1">deviceSubclass</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-deviceprotocol" id="ref-for-dom-usbdevice-deviceprotocol-1">deviceProtocol</a></code> attributes declare the communication interface
supported by the device. They MUST correspond respectively to the values of the <code>bDeviceClass</code>, <code>bDeviceSubClass</code> and <code>bDeviceProtocol</code> fields of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-3">device descriptor</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-vendorid" id="ref-for-dom-usbdevice-vendorid-1">vendorId</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-productid" id="ref-for-dom-usbdevice-productid-1">productId</a></code> MUST be equal to the
deviceâs <a data-link-type="dfn" href="#vendor-id" id="ref-for-vendor-id-3">vendor ID</a> and <a data-link-type="dfn" href="#product-id" id="ref-for-product-id-3">product ID</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-deviceversionmajor" id="ref-for-dom-usbdevice-deviceversionmajor-1">deviceVersionMajor</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-deviceversionminor" id="ref-for-dom-usbdevice-deviceversionminor-1">deviceVersionMinor</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-deviceversionsubminor" id="ref-for-dom-usbdevice-deviceversionsubminor-1">deviceVersionSubminor</a></code> attributes declare the device release
number as defined by the device manufacturer. It SHALL correspond to the value
of the <code>bcdDevice</code> field of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-4">device descriptor</a> such that a
value of <code>0xJJMN</code> has major version <code>JJ</code>, minor version <code>M</code> and subminor version <code>N</code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-manufacturername" id="ref-for-dom-usbdevice-manufacturername-1">manufacturerName</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-productname" id="ref-for-dom-usbdevice-productname-1">productName</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-serialnumber" id="ref-for-dom-usbdevice-serialnumber-1">serialNumber</a></code> attributes SHOULD contain the values of the <a data-link-type="dfn" href="#string-descriptor" id="ref-for-string-descriptor-2">string
descriptors</a> indexed by the <code>iManufacturer</code>, <code>iProduct</code> and <code>iSerialNumber</code> fields of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-5">device descriptor</a> if each is
defined.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-configuration" id="ref-for-dom-usbdevice-configuration-1">configuration</a></code> attribute contains the currently selected
configuration for the device and SHALL be one of the configurations listed in <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-configurations" id="ref-for-dom-usbdevice-configurations-1">configurations</a></code>. It MAY be <code>null</code> if the device is in
an unconfigured state and MUST be updated by <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectconfiguration" id="ref-for-dom-usbdevice-selectconfiguration-1">selectConfiguration()</a></code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-configurations" id="ref-for-dom-usbdevice-configurations-2">configurations</a></code> attribute contains a list of configurations
supported by the device. These configurations SHALL be populated from the
configuration descriptors reported by the device and the number of elements in
this list SHALL match the value of the <code>bNumConfigurations</code> field of
the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-6">device descriptor</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-1">opened</a></code> attribute SHALL be set to <code>true</code> when the
device is opened by the current execution context and SHALL be set to <code>false</code> otherwise.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-open" id="ref-for-dom-usbdevice-open-1">open()</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-11">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-2">opened</a></code></code> is <code>true</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var> and abort these steps.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific steps to begin a session with the
 device. If these fail for any reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Set <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-3">opened</a></code></code> to <code>true</code> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-close" id="ref-for-dom-usbdevice-close-1">close()</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-12">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-4">opened</a></code></code> is <code>false</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var> and abort these steps.</p>
    <li data-md="">
     <p>Abort all other algorithms currently running against this device and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> their associated promises with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror">AbortError</a></code>.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific steps to release any claimed
 interfaces as if <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-releaseinterface" id="ref-for-dom-usbdevice-releaseinterface-1">releaseInterface(interfaceNumber)</a></code> had been
 called for each claimed interface.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific steps to end the session with the
 device.</p>
    <li data-md="">
     <p>Set <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-5">opened</a></code></code> to <code>false</code> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectconfiguration" id="ref-for-dom-usbdevice-selectconfiguration-2">selectConfiguration(configurationValue)</a></code> method, when invoked,
MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps in
parallel:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-13">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>configuration</var> be the device configuration with <code>bConfigurationValue</code> equal to <var>configurationValue</var>. If no such
 configuration exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-6">opened</a></code></code> is not equal to <code>true</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>The UA MAY check that the caller <a data-link-type="dfn" href="#is-allowed-to-access-configuration" id="ref-for-is-allowed-to-access-configuration-1">is allowed to access <var>configuration</var></a>, and if not <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Abort all transfers currently scheduled on endpoints other than the <a data-link-type="dfn" href="#default-control-pipe" id="ref-for-default-control-pipe-1">default control pipe</a> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> their associated promises
 with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror">AbortError</a></code>.</p>
    <li data-md="">
     <p>Issue a <code>SET_CONFIGURATION</code> control transfer to the device to
 set <var>configurationValue</var> as its <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-1">active configuration</a>.  If this step
 fails <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Set <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-configuration" id="ref-for-dom-usbdevice-configuration-2">configuration</a></code></code> to <var>configuration</var> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-claiminterface" id="ref-for-dom-usbdevice-claiminterface-1">claimInterface(interfaceNumber)</a></code> method, when invoked, MUST
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>interface</var> be the interface in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-2">active configuration</a> with <code>bInterfaceNumber</code> equal to <var>interfaceNumber</var>. If no such
 interface exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-7">opened</a></code></code> is not <code>true</code> and <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-1">claimed</a></code></code> is not <code>false</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>The UA MAY check that the caller <a data-link-type="dfn" href="#is-allowed-to-access-interface" id="ref-for-is-allowed-to-access-interface-1">is allowed to access <var>interface</var></a>,
 and if not <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific steps to request exclusive control
 over <var>interface</var>. If this fails, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Set <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-2">claimed</a></code></code> to <code>true</code> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-releaseinterface" id="ref-for-dom-usbdevice-releaseinterface-2">releaseInterface(interfaceNumber)</a></code> method, when invoked, MUST
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps in
parallel:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-14">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>interface</var> be the interface in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-3">active configuration</a> with <code>bInterfaceNumber</code> equal to <var>interfaceNumber</var>. If no such
 interface exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-8">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-3">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific steps to reliquish exclusive
 control over <var>interface</var>.</p>
    <li data-md="">
     <p>Set <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-4">claimed</a></code></code> to <code>false</code> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectalternateinterface" id="ref-for-dom-usbdevice-selectalternateinterface-1">selectAlternateInterface(interfaceNumber, alternateSetting)</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the
following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-15">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>interface</var> be the interface in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-4">active configuration</a> with <code>bInterfaceNumber</code> equal to <var>interfaceNumber</var>. If no such
 interface exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-9">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-5">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Abort all transfers currently scheduled on endpoints associated with the
 previously selected alternate setting of <var>interface</var> and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> their associated promises with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror">AbortError</a></code>.</p>
    <li data-md="">
     <p>Issue a <code>SET_INTERFACE</code> control transfer to the device to set <var>alternateSetting</var> as the current configuration of <var>interface</var>. If this
 step fails <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-controltransferin" id="ref-for-dom-usbdevice-controltransferin-1">controlTransferIn(setup, length)</a></code> method, when invoked, MUST
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps in
parallel:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-16">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-10">opened</a></code></code> is not equal to <code>true</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#check-the-validity-of-the-control-transfer-parameters" id="ref-for-check-the-validity-of-the-control-transfer-parameters-1">Check the validity of the control transfer parameters</a> and abort
 these steps if <var>promise</var> is rejected.</p>
    <li data-md="">
     <p>If <var>length</var> is greater than the <code>wMaxPacketSize0</code> field of the
 deviceâs <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-7">device descriptor</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbintransferresult" id="ref-for-usbintransferresult-3">USBInTransferResult</a></code> and let <var>buffer</var> be a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer">ArrayBuffer</a></code> of <var>length</var> bytes.</p>
    <li data-md="">
     <p>Issue a control transfer with the setup packet parameters provided in <var>setup</var> and the data transfer direction in <code>bmRequestType</code> set
 to "device to host" and <code>wLength</code> set to <var>length</var>.</p>
    <li data-md="">
     <p>If the device responds with data, store the first <var>length</var> bytes of this
 data in <var>buffer</var> and set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-data" id="ref-for-dom-usbintransferresult-data-1">data</a></code></code> to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DataView">DataView</a></code> constructed over <var>buffer</var>.</p>
    <li data-md="">
     <p>If the device responds by stalling the default control pipe set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-status" id="ref-for-dom-usbintransferresult-status-1">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-1">"stall"</a></code>.</p>
    <li data-md="">
     <p>If more than <var>length</var> bytes are received set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-status" id="ref-for-dom-usbintransferresult-status-2">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-babble" id="ref-for-dom-usbtransferstatus-babble-1">"babble"</a></code> and
  otherwise set it to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-1">"ok"</a></code>.</p>
    <li data-md="">
     <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-controltransferout" id="ref-for-dom-usbdevice-controltransferout-1">controlTransferOut(setup, data)</a></code> method, when invoked, must
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-11">opened</a></code></code> is not equal to <code>true</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and
 abort these
 steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="#check-the-validity-of-the-control-transfer-parameters" id="ref-for-check-the-validity-of-the-control-transfer-parameters-2">Check the validity of the control transfer parameters</a> and abort
 these steps if <var>promise</var> is rejected.</p>
    <li data-md="">
     <p>If <code><var>data</var>.length</code> is greater than the <code>wMaxPacketSize0</code> field of the deviceâs <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-8">device
 descriptor</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> and abort
 these steps.</p>
    <li data-md="">
     <p>Issue a control transfer with the <a data-link-type="dfn" href="#setup-packet" id="ref-for-setup-packet-1">setup packet</a> populated by <var>setup</var> and the data transfer direction in <code>bmRequestType</code> set to "host
 to device" and <code>wLength</code> set to <code><var>data</var>.length</code>.
 Transmit <var>data</var> in the <a data-link-type="dfn" href="#data-stage" id="ref-for-data-stage-1">data stage</a> of the transfer.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbouttransferresult" id="ref-for-usbouttransferresult-3">USBOutTransferResult</a></code>.</p>
    <li data-md="">
     <p>If the device responds by stalling the default control pipe set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbouttransferresult-status" id="ref-for-dom-usbouttransferresult-status-1">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-2">"stall"</a></code>.</p>
    <li data-md="">
     <p>If the device acknowledges the transfer set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbouttransferresult-status" id="ref-for-dom-usbouttransferresult-status-2">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-2">"ok"</a></code> and <code><var>result</var>.{{USBOutTransferResult/bytesWritten</code> to <code><var>data</var>.length</code>.</p>
    <li data-md="">
     <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-clearhalt" id="ref-for-dom-usbdevice-clearhalt-1">clearHalt(direction, endpointNumber)</a></code> method, when invoked,
MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>endpoint</var> be the endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-5">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>direction</var> and <var>endpointNumber</var>. If no such endpoint exists <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> and
 abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-12">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-6">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Issue a <code>CLEAR_FEATURE</code> control transfer to the device to clear
 the stall condition on <var>endpoint</var>.</p>
    <li data-md="">
     <p>On failure <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code>, otherwise <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-transferin" id="ref-for-dom-usbdevice-transferin-1">transferIn(endpointNumber, length)</a></code> method, when invoked, MUST
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in
parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>endpoint</var> be the IN endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-6">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>endpointNumber</var>. If there
 is no such endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <var>endpoint</var> is not a bulk or interrupt endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidaccesserror">InvalidAccessError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-13">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-7">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>As appropriate for <var>endpoint</var> enqueue a bulk or interrupt IN transfer on <var>endpoint</var> with a buffer sufficient to receive <var>length</var> bytes of data from
 the device.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbintransferresult" id="ref-for-usbintransferresult-4">USBInTransferResult</a></code>.</p>
    <li data-md="">
     <p>If data is returned as part of this transfer let <var>buffer</var> be a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer">ArrayBuffer</a></code> of exactly the length of the data received and set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-data" id="ref-for-dom-usbintransferresult-data-2">data</a></code></code> to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DataView">DataView</a></code> constructed over <var>buffer</var>.</p>
    <li data-md="">
     <p>If the device responds with more than <var>length</var> bytes of data set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-status" id="ref-for-dom-usbintransferresult-status-3">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-babble" id="ref-for-dom-usbtransferstatus-babble-2">"babble"</a></code>.</p>
    <li data-md="">
     <p>If the transfer ends because <var>endpoint</var> is stalled set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-status" id="ref-for-dom-usbintransferresult-status-4">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-3">"stall"</a></code>.</p>
    <li data-md="">
     <p>If the device acknowledges the complete transfer set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbintransferresult-status" id="ref-for-dom-usbintransferresult-status-5">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-3">"ok"</a></code>.</p>
    <li data-md="">
     <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-transferout" id="ref-for-dom-usbdevice-transferout-1">transferOut(endpointNumber, data)</a></code> method, when invoked, MUST
return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps in
parallel:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>endpoint</var> be the OUT endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-7">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>endpointNumber</var>. If there
 is no such endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <var>endpoint</var> is not a bulk or interrupt endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidaccesserror">InvalidAccessError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-14">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-8">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>As appropriate for <var>endpoint</var> enqueue a bulk or interrupt OUT transfer on <var>endpoint</var> to transmit <var>data</var> to the device.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbouttransferresult" id="ref-for-usbouttransferresult-4">USBOutTransferResult</a></code>.</p>
    <li data-md="">
     <p>Set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbouttransferresult-byteswritten" id="ref-for-dom-usbouttransferresult-byteswritten-1">bytesWritten</a></code></code> to the
 amount of data successfully sent to the device.</p>
    <li data-md="">
     <p>If the endpoint is stalled set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbouttransferresult-status" id="ref-for-dom-usbouttransferresult-status-3">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-4">"stall"</a></code>.</p>
    <li data-md="">
     <p>If the device acknowledges the complete transfer set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbouttransferresult-status" id="ref-for-dom-usbouttransferresult-status-4">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-4">"ok"</a></code>.</p>
    <li data-md="">
     <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-isochronoustransferin" id="ref-for-dom-usbdevice-isochronoustransferin-1">isochronousTransferIn(endpointNumber, packetLengths)</a></code> method,
when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following
steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>endpoint</var> be the IN endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-8">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>endpointNumber</var>. If there
 is no such endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <var>endpoint</var> is not an isochronous endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with
 an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidaccesserror">InvalidAccessError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-15">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-9">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Let <var>length</var> be the sum of the elements of <var>packetLengths</var>.</p>
    <li data-md="">
     <p>Let <var>buffer</var> be a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-ArrayBuffer">ArrayBuffer</a></code> of <var>length</var> bytes.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbisochronousintransferresult" id="ref-for-usbisochronousintransferresult-2">USBIsochronousInTransferResult</a></code> and set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferresult-data" id="ref-for-dom-usbisochronousintransferresult-data-1">data</a></code></code> to a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DataView">DataView</a></code> constructed over <var>buffer</var>.</p>
    <li data-md="">
     <p>Enqueue an isochronous IN transfer on <var>endpoint</var> that will write up to <var>length</var> bytes of data from the device into <var>buffer</var>.</p>
    <li data-md="">
     <p>For each packet <var>i</var> from <code>0</code> to <code><var>packetLengths</var>.length -
 1</code>:</p>
     <ol>
      <li data-md="">
       <p>Let <var>packet</var> be a new <code class="idl"><a data-link-type="idl" href="#usbisochronousintransferpacket" id="ref-for-usbisochronousintransferpacket-1">USBIsochronousInTransferPacket</a></code> and set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferresult-packets" id="ref-for-dom-usbisochronousintransferresult-packets-1">packets</a></code>[i]</code> to <var>packet</var>.</p>
      <li data-md="">
       <p>Let <var>view</var> be a new <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-DataView">DataView</a></code> over the portion of <var>buffer</var> containing the data received from the device for this packet and set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferpacket-data" id="ref-for-dom-usbisochronousintransferpacket-data-1">data</a></code></code> to <var>view</var>.</p>
      <li data-md="">
       <p>If the device responds with more than <code><var>packetLengths</var>[i]</code> bytes of data set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferpacket-status" id="ref-for-dom-usbisochronousintransferpacket-status-1">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-babble" id="ref-for-dom-usbtransferstatus-babble-3">"babble"</a></code>.</p>
      <li data-md="">
       <p>If the transfer ends because <var>endpoint</var> is stalled set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferpacket-status" id="ref-for-dom-usbisochronousintransferpacket-status-2">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-5">"stall"</a></code>.</p>
      <li data-md="">
       <p>If the device acknowledges the complete transfer set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousintransferpacket-status" id="ref-for-dom-usbisochronousintransferpacket-status-3">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-5">"ok"</a></code>.</p>
      <li data-md="">
       <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
     </ol>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-isochronoustransferout" id="ref-for-dom-usbdevice-isochronoustransferout-1">isochronousTransferOut(endpointNumber, data, packetLengths)</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the
following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>If the device is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>Let <var>endpoint</var> be the OUT endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-9">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>endpointNumber</var>. If there
 is no such endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>If <var>endpoint</var> is not an isochronous endpoint <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with
 an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidaccesserror">InvalidAccessError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-16">opened</a></code></code> or <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-10">claimed</a></code></code> is not <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these
 steps.</p>
    <li data-md="">
     <p>Let <var>length</var> be the sum of the elements of <var>packetLengths</var>.</p>
    <li data-md="">
     <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="#usbisochronousouttransferresult" id="ref-for-usbisochronousouttransferresult-2">USBIsochronousOutTransferResult</a></code>.</p>
    <li data-md="">
     <p>Enqueue an isochronous OUT transfer on <var>endpoint</var> that will write <var>buffer</var> to the device, divided into <code><var>packetLength</var>.length</code> packets of <code><var>packetLength</var>[i]</code> bytes (for packets <var>i</var> from <code>0</code> to <code><var>packetLengths</var>.length - 1</code>).</p>
    <li data-md="">
     <p>For each packet <var>i</var> from <code>0</code> to <code><var>packetLengths</var>.length -
 1</code> the host attempts to send to the device:</p>
     <ol>
      <li data-md="">
       <p>Let <var>packet</var> be a new <code class="idl"><a data-link-type="idl" href="#usbisochronousouttransferpacket" id="ref-for-usbisochronousouttransferpacket-1">USBIsochronousOutTransferPacket</a></code> and set <code><var>result</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousouttransferresult-packets" id="ref-for-dom-usbisochronousouttransferresult-packets-1">packets</a></code>[i]</code> to <var>packet</var>.</p>
      <li data-md="">
       <p>Let <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousouttransferpacket-byteswritten" id="ref-for-dom-usbisochronousouttransferpacket-byteswritten-1">bytesWritten</a></code></code> be the amount of data successfully sent to the device as part of this
  packet.</p>
      <li data-md="">
       <p>If the transfer ends because <var>endpoint</var> is stalled set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousouttransferpacket-status" id="ref-for-dom-usbisochronousouttransferpacket-status-1">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-stall" id="ref-for-dom-usbtransferstatus-stall-6">"stall"</a></code>.</p>
      <li data-md="">
       <p>If the device acknowledges the complete transfer set <code><var>packet</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbisochronousouttransferpacket-status" id="ref-for-dom-usbisochronousouttransferpacket-status-2">status</a></code></code> to <code class="idl"><a data-link-type="idl" href="#dom-usbtransferstatus-ok" id="ref-for-dom-usbtransferstatus-ok-6">"ok"</a></code>.</p>
      <li data-md="">
       <p>If the transfer fails for any other reason <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code> and abort these steps.</p>
     </ol>
    <li data-md="">
     <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">Resolve</a> <var>promise</var> with <var>result</var>.</p>
   </ol>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-reset" id="ref-for-dom-usbdevice-reset-1">reset()</a></code> method, when invoked, MUST return a new <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a></code> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>:</p>
   <ol>
    <li data-md="">
     <p>Let <var>device</var> be the target <code class="idl"><a data-link-type="idl" href="#usbdevice" id="ref-for-usbdevice-17">USBDevice</a></code> object.</p>
    <li data-md="">
     <p>If <var>device</var> is no longer connected to the system, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>device</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbdevice-opened" id="ref-for-dom-usbdevice-opened-17">opened</a></code></code> is not equal to <code>true</code> <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and
 abort these steps.</p>
    <li data-md="">
     <p>Abort all operations on the device and <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> their associated
 promises with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror">AbortError</a></code>.</p>
    <li data-md="">
     <p>Perform the necessary platform-specific operation to soft reset the device.</p>
    <li data-md="">
     <p>On failure <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#networkerror">NetworkError</a></code>, otherwise <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a> <var>promise</var>.</p>
   </ol>
   <p class="issue" id="issue-0de671a3"><a class="self-link" href="#issue-0de671a3"></a> What configuration is the device in after it resets? <a href="https://github.com/wicg/webusb/issues/36">&lt;https://github.com/wicg/webusb/issues/36></a></p>
   <h3 class="heading settled" data-level="5.1" id="transfers"><span class="secno">5.1. </span><span class="content">Transfers</span><a class="self-link" href="#transfers"></a></h3>
<pre class="idl highlight def"><span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-usbrequesttype">USBRequestType</dfn> {
  <dfn class="s idl-code" data-dfn-for="USBRequestType" data-dfn-type="enum-value" data-export="" data-lt="&quot;standard&quot;|standard" id="dom-usbrequesttype-standard">"standard"<a class="self-link" href="#dom-usbrequesttype-standard"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="USBRequestType" data-dfn-type="enum-value" data-export="" data-lt="&quot;class&quot;|class" id="dom-usbrequesttype-class">"class"<a class="self-link" href="#dom-usbrequesttype-class"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="USBRequestType" data-dfn-type="enum-value" data-export="" data-lt="&quot;vendor&quot;|vendor" id="dom-usbrequesttype-vendor">"vendor"<a class="self-link" href="#dom-usbrequesttype-vendor"></a></dfn>
};

<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-usbrecipient">USBRecipient</dfn> {
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBRecipient" data-dfn-type="enum-value" data-export="" data-lt="&quot;device&quot;|device" id="dom-usbrecipient-device">"device"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBRecipient" data-dfn-type="enum-value" data-export="" data-lt="&quot;interface&quot;|interface" id="dom-usbrecipient-interface">"interface"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBRecipient" data-dfn-type="enum-value" data-export="" data-lt="&quot;endpoint&quot;|endpoint" id="dom-usbrecipient-endpoint">"endpoint"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBRecipient" data-dfn-type="enum-value" data-export="" data-lt="&quot;other&quot;|other" id="dom-usbrecipient-other">"other"</dfn>
};

<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-usbtransferstatus">USBTransferStatus</dfn> {
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBTransferStatus" data-dfn-type="enum-value" data-export="" data-lt="&quot;ok&quot;|ok" id="dom-usbtransferstatus-ok">"ok"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBTransferStatus" data-dfn-type="enum-value" data-export="" data-lt="&quot;stall&quot;|stall" id="dom-usbtransferstatus-stall">"stall"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBTransferStatus" data-dfn-type="enum-value" data-export="" data-lt="&quot;babble&quot;|babble" id="dom-usbtransferstatus-babble">"babble"</dfn>
};

<span class="kt">dictionary</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="dictionary" data-export="" id="dictdef-usbcontroltransferparameters">USBControlTransferParameters</dfn> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbrequesttype" id="ref-for-enumdef-usbrequesttype-1">USBRequestType</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBControlTransferParameters" data-dfn-type="dict-member" data-export="" data-type="USBRequestType " id="dom-usbcontroltransferparameters-requesttype">requestType</dfn>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbrecipient" id="ref-for-enumdef-usbrecipient-1">USBRecipient</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBControlTransferParameters" data-dfn-type="dict-member" data-export="" data-type="USBRecipient " id="dom-usbcontroltransferparameters-recipient">recipient</dfn>;
  <span class="kt">required</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBControlTransferParameters" data-dfn-type="dict-member" data-export="" data-type="octet " id="dom-usbcontroltransferparameters-request">request</dfn>;
  <span class="kt">required</span> <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBControlTransferParameters" data-dfn-type="dict-member" data-export="" data-type="unsigned short " id="dom-usbcontroltransferparameters-value">value</dfn>;
  <span class="kt">required</span> <span class="kt">unsigned</span> <span class="kt">short</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBControlTransferParameters" data-dfn-type="dict-member" data-export="" data-type="unsigned short " id="dom-usbcontroltransferparameters-index">index</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBInTransferResult" data-dfn-type="constructor" data-export="" data-lt="USBInTransferResult(data, status)" id="dom-usbintransferresult-usbintransferresult">Constructor<a class="self-link" href="#dom-usbintransferresult-usbintransferresult"></a></dfn>(<span class="kt">DataView</span> <dfn class="nv idl-code" data-dfn-for="USBInTransferResult/USBInTransferResult(data, status)" data-dfn-type="argument" data-export="" id="dom-usbintransferresult-usbintransferresult-data-status-data">data<a class="self-link" href="#dom-usbintransferresult-usbintransferresult-data-status-data"></a></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-1">USBTransferStatus</a> <dfn class="nv idl-code" data-dfn-for="USBInTransferResult/USBInTransferResult(data, status)" data-dfn-type="argument" data-export="" id="dom-usbintransferresult-usbintransferresult-data-status-status">status<a class="self-link" href="#dom-usbintransferresult-usbintransferresult-data-status-status"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbintransferresult">USBInTransferResult</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DataView" id="dom-usbintransferresult-data">data</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-2">USBTransferStatus</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBTransferStatus" id="dom-usbintransferresult-status">status</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBOutTransferResult" data-dfn-type="constructor" data-export="" data-lt="USBOutTransferResult(bytesWritten, status)" id="dom-usbouttransferresult-usbouttransferresult">Constructor<a class="self-link" href="#dom-usbouttransferresult-usbouttransferresult"></a></dfn>(<span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv idl-code" data-dfn-for="USBOutTransferResult/USBOutTransferResult(bytesWritten, status)" data-dfn-type="argument" data-export="" id="dom-usbouttransferresult-usbouttransferresult-byteswritten-status-byteswritten">bytesWritten<a class="self-link" href="#dom-usbouttransferresult-usbouttransferresult-byteswritten-status-byteswritten"></a></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-3">USBTransferStatus</a> <dfn class="nv idl-code" data-dfn-for="USBOutTransferResult/USBOutTransferResult(bytesWritten, status)" data-dfn-type="argument" data-export="" id="dom-usbouttransferresult-usbouttransferresult-byteswritten-status-status">status<a class="self-link" href="#dom-usbouttransferresult-usbouttransferresult-byteswritten-status-status"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbouttransferresult">USBOutTransferResult</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBOutTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned long" id="dom-usbouttransferresult-byteswritten">bytesWritten</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-4">USBTransferStatus</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBOutTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBTransferStatus" id="dom-usbouttransferresult-status">status</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferPacket" data-dfn-type="constructor" data-export="" data-lt="USBIsochronousInTransferPacket(data, status)" id="dom-usbisochronousintransferpacket-usbisochronousintransferpacket">Constructor<a class="self-link" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket"></a></dfn>(<span class="kt">DataView</span> <dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferPacket/USBIsochronousInTransferPacket(data, status)" data-dfn-type="argument" data-export="" id="dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-data">data<a class="self-link" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-data"></a></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-5">USBTransferStatus</a> <dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferPacket/USBIsochronousInTransferPacket(data, status)" data-dfn-type="argument" data-export="" id="dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-status">status<a class="self-link" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-status"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbisochronousintransferpacket">USBIsochronousInTransferPacket</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousInTransferPacket" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DataView" id="dom-usbisochronousintransferpacket-data">data</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-6">USBTransferStatus</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousInTransferPacket" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBTransferStatus" id="dom-usbisochronousintransferpacket-status">status</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferResult" data-dfn-type="constructor" data-export="" data-lt="USBIsochronousInTransferResult(data, packets)" id="dom-usbisochronousintransferresult-usbisochronousintransferresult">Constructor<a class="self-link" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult"></a></dfn>(<span class="kt">DataView</span> <dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferResult/USBIsochronousInTransferResult(data, packets)" data-dfn-type="argument" data-export="" id="dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-data">data<a class="self-link" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-data"></a></dfn>, <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferpacket" id="ref-for-usbisochronousintransferpacket-2">USBIsochronousInTransferPacket</a>> <dfn class="nv idl-code" data-dfn-for="USBIsochronousInTransferResult/USBIsochronousInTransferResult(data, packets)" data-dfn-type="argument" data-export="" id="dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-packets">packets<a class="self-link" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-packets"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbisochronousintransferresult">USBIsochronousInTransferResult</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousInTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DataView" id="dom-usbisochronousintransferresult-data">data</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferpacket" id="ref-for-usbisochronousintransferpacket-3">USBIsochronousInTransferPacket</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousInTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBIsochronousInTransferPacket>" id="dom-usbisochronousintransferresult-packets">packets</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBIsochronousOutTransferPacket" data-dfn-type="constructor" data-export="" data-lt="USBIsochronousOutTransferPacket(bytesWritten, status)" id="dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket">Constructor<a class="self-link" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket"></a></dfn>(<span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv idl-code" data-dfn-for="USBIsochronousOutTransferPacket/USBIsochronousOutTransferPacket(bytesWritten, status)" data-dfn-type="argument" data-export="" id="dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-byteswritten">bytesWritten<a class="self-link" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-byteswritten"></a></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-7">USBTransferStatus</a> <dfn class="nv idl-code" data-dfn-for="USBIsochronousOutTransferPacket/USBIsochronousOutTransferPacket(bytesWritten, status)" data-dfn-type="argument" data-export="" id="dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-status">status<a class="self-link" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-status"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbisochronousouttransferpacket">USBIsochronousOutTransferPacket</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousOutTransferPacket" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned long" id="dom-usbisochronousouttransferpacket-byteswritten">bytesWritten</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus" id="ref-for-enumdef-usbtransferstatus-8">USBTransferStatus</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousOutTransferPacket" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBTransferStatus" id="dom-usbisochronousouttransferpacket-status">status</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBIsochronousOutTransferResult" data-dfn-type="constructor" data-export="" data-lt="USBIsochronousOutTransferResult(packets)" id="dom-usbisochronousouttransferresult-usbisochronousouttransferresult">Constructor<a class="self-link" href="#dom-usbisochronousouttransferresult-usbisochronousouttransferresult"></a></dfn>(<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferpacket" id="ref-for-usbisochronousouttransferpacket-2">USBIsochronousOutTransferPacket</a>> <dfn class="nv idl-code" data-dfn-for="USBIsochronousOutTransferResult/USBIsochronousOutTransferResult(packets)" data-dfn-type="argument" data-export="" id="dom-usbisochronousouttransferresult-usbisochronousouttransferresult-packets-packets">packets<a class="self-link" href="#dom-usbisochronousouttransferresult-usbisochronousouttransferresult-packets-packets"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbisochronousouttransferresult">USBIsochronousOutTransferResult</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferpacket" id="ref-for-usbisochronousouttransferpacket-3">USBIsochronousOutTransferPacket</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBIsochronousOutTransferResult" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBIsochronousOutTransferPacket>" id="dom-usbisochronousouttransferresult-packets">packets</dfn>;
};
</pre>
   <p>A <dfn data-dfn-type="dfn" data-noexport="" id="control-transfer">control transfer<a class="self-link" href="#control-transfer"></a></dfn> is a special class of USB traffic most commonly
used for configuring a device. It consists of three stages: setup, data and
status. In the <dfn data-dfn-type="dfn" data-noexport="" id="setup-stage">setup stage<a class="self-link" href="#setup-stage"></a></dfn> a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="setup-packet">setup packet</dfn> is transmitted
to the device containing request parameters including the transfer direction
and size of the data to follow. In the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="data-stage">data stage</dfn> that data is
either sent to or received from the device. In the <dfn data-dfn-type="dfn" data-noexport="" id="status-stage">status stage<a class="self-link" href="#status-stage"></a></dfn> successful handling of the request is acknowledged or a failure is signaled.</p>
   <p>All USB devices MUST have a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="default-control-pipe">default control pipe</dfn> which is <var>endpointNumber</var> <code>0</code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-requesttype" id="ref-for-dom-usbcontroltransferparameters-requesttype-1">requestType</a></code> attribute populates part of
the <code>bmRequestType</code> field of the <a data-link-type="dfn" href="#setup-packet" id="ref-for-setup-packet-2">setup packet</a> to indicate
whether this request is part of the USB standard, a particular USB device class
specification or a vendor-specific protocol.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-recipient" id="ref-for-dom-usbcontroltransferparameters-recipient-1">recipient</a></code> attribute populates part of the <code>bmRequestType</code> field of the <a data-link-type="dfn" href="#setup-packet" id="ref-for-setup-packet-3">setup packet</a> to indicate whether
the control transfer is addressed to the entire device, or a specific interface
or endpoint.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-request" id="ref-for-dom-usbcontroltransferparameters-request-1">request</a></code> attribute populates the <code>bRequest</code> field of the <a data-link-type="dfn" href="#setup-packet" id="ref-for-setup-packet-4">setup packet</a>. Valid requests are
defined by the USB standard, USB device class specifications or the device
vendor.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-value" id="ref-for-dom-usbcontroltransferparameters-value-1">value</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-index" id="ref-for-dom-usbcontroltransferparameters-index-1">index</a></code> attributes populate the <code>wValue</code> and <code>wIndex</code> fields of the <a data-link-type="dfn" href="#setup-packet" id="ref-for-setup-packet-5">setup packet</a> respectively. The meaning of these fields depends on the request being made.</p>
   <p>To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="check-the-validity-of-the-control-transfer-parameters">check the validity of the control transfer parameters</dfn> perform the following steps:</p>
   <ol>
    <li data-md="">
     <p>Let <var>setup</var> be the <code class="idl"><a data-link-type="idl" href="#dictdef-usbcontroltransferparameters" id="ref-for-dictdef-usbcontroltransferparameters-3">USBControlTransferParameters</a></code> created for the
 transfer.</p>
    <li data-md="">
     <p>Let <var>promise</var> be the promise created for the transfer.</p>
    <li data-md="">
     <p>Let <var>configuration</var> be the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-10">active configuration</a>. If the device is
 not configured abort these steps.</p>
    <li data-md="">
     <p>If <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-recipient" id="ref-for-dom-usbcontroltransferparameters-recipient-2">recipient</a></code></code> is <code class="idl"><a data-link-type="idl" href="#dom-usbrecipient-device" id="ref-for-dom-usbrecipient-device-1">"device"</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-usbrecipient-other" id="ref-for-dom-usbrecipient-other-1">"other"</a></code> the UA MAY check that the caller <a data-link-type="dfn" href="#is-allowed-to-access-configuration" id="ref-for-is-allowed-to-access-configuration-2">is allowed
 to access <var>configuration</var></a>, and if not <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code> and abort these steps.</p>
    <li data-md="">
     <p>If <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-recipient" id="ref-for-dom-usbcontroltransferparameters-recipient-3">recipient</a></code></code> is <code class="idl"><a data-link-type="idl" href="#dom-usbrecipient-interface" id="ref-for-dom-usbrecipient-interface-1">"interface"</a></code>, perform the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>interfaceNumber</var> be the lower 8 bits of <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-index" id="ref-for-dom-usbcontroltransferparameters-index-2">index</a></code></code>.</p>
      <li data-md="">
       <p>Let <var>interface</var> be the interface in the | configuration| with <code>bInterfaceNumber</code> equal to <var>interfaceNumber</var>. If no such
  interface exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and
  abort these steps.</p>
      <li data-md="">
       <p>If <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-11">claimed</a></code></code> is not equal to <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
      <li data-md="">
       <p>The UA MAY check that the caller <a data-link-type="dfn" href="#is-allowed-to-access-interface" id="ref-for-is-allowed-to-access-interface-2">is allowed to access <var>interface</var></a>, and if not <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code>.</p>
     </ol>
    <li data-md="">
     <p>If <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-recipient" id="ref-for-dom-usbcontroltransferparameters-recipient-4">recipient</a></code></code> is <code class="idl"><a data-link-type="idl" href="#dom-usbrecipient-endpoint" id="ref-for-dom-usbrecipient-endpoint-1">"endpoint"</a></code>, run the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>endpointNumber</var> be defined as the lower 4 bits of <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-index" id="ref-for-dom-usbcontroltransferparameters-index-3">index</a></code></code>.</p>
      <li data-md="">
       <p>Let <var>direction</var> be defined as <code class="idl"><a data-link-type="idl" href="#dom-usbdirection-in" id="ref-for-dom-usbdirection-in-1">"in"</a></code> if the 8th bit of <code><var>setup</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbcontroltransferparameters-index" id="ref-for-dom-usbcontroltransferparameters-index-4">index</a></code></code> is <code>1</code> and <code class="idl"><a data-link-type="idl" href="#dom-usbdirection-out" id="ref-for-dom-usbdirection-out-1">"out"</a></code> otherwise.</p>
      <li data-md="">
       <p>Let <var>endpoint</var> be the endpoint in the <a data-link-type="dfn" href="#active-configuration" id="ref-for-active-configuration-11">active configuration</a> with <code>bEndpointAddress</code> corresponding to <var>direction</var> and <var>endpointNumber</var>. If no such endpoint exists, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a></code> and abort these steps.</p>
      <li data-md="">
       <p>Let <var>interface</var> be the interface in which <var>endpoint</var> is defined. If <code><var>interface</var>.<code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-12">claimed</a></code></code> is not equal to <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a></code>.</p>
      <li data-md="">
       <p>The UA MAY check that the caller <a data-link-type="dfn" href="#is-allowed-to-access-interface" id="ref-for-is-allowed-to-access-interface-3">is allowed to access <var>interface</var></a>, and if not <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror">SecurityError</a></code>.</p>
     </ol>
   </ol>
   <h3 class="heading settled" data-level="5.2" id="configurations"><span class="secno">5.2. </span><span class="content">Configurations</span><a class="self-link" href="#configurations"></a></h3>
<pre class="idl highlight def">[<dfn class="nv idl-code" data-dfn-for="USBConfiguration" data-dfn-type="constructor" data-export="" data-lt="USBConfiguration(device, configurationValue)" id="dom-usbconfiguration-usbconfiguration">Constructor<a class="self-link" href="#dom-usbconfiguration-usbconfiguration"></a></dfn>(<a class="n" data-link-type="idl-name" href="#usbdevice" id="ref-for-usbdevice-18">USBDevice</a> <dfn class="nv idl-code" data-dfn-for="USBConfiguration/USBConfiguration(device, configurationValue)" data-dfn-type="argument" data-export="" id="dom-usbconfiguration-usbconfiguration-device-configurationvalue-device">device<a class="self-link" href="#dom-usbconfiguration-usbconfiguration-device-configurationvalue-device"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBConfiguration/USBConfiguration(device, configurationValue)" data-dfn-type="argument" data-export="" id="dom-usbconfiguration-usbconfiguration-device-configurationvalue-configurationvalue">configurationValue<a class="self-link" href="#dom-usbconfiguration-usbconfiguration-device-configurationvalue-configurationvalue"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbconfiguration">USBConfiguration</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBConfiguration" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbconfiguration-configurationvalue">configurationValue</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBConfiguration" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString?" id="dom-usbconfiguration-configurationname">configurationName</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbinterface" id="ref-for-usbinterface-1">USBInterface</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBConfiguration" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBInterface>" id="dom-usbconfiguration-interfaces">interfaces</dfn>;
};
</pre>
   <p>Each device configuration SHALL have a unique <code class="idl"><a data-link-type="idl" href="#dom-usbconfiguration-configurationvalue" id="ref-for-dom-usbconfiguration-configurationvalue-1">configurationValue</a></code> that matches the <code>bConfigurationValue</code> fields of the <a data-link-type="dfn" href="#configuration-descriptor" id="ref-for-configuration-descriptor-2">configuration descriptor</a> that defines it.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbconfiguration-configurationname" id="ref-for-dom-usbconfiguration-configurationname-1">configurationName</a></code> attribute SHOULD contain the value
of the <a data-link-type="dfn" href="#string-descriptor" id="ref-for-string-descriptor-3">string descriptor</a> referenced by the <code>iConfiguration</code> field of the <a data-link-type="dfn" href="#configuration-descriptor" id="ref-for-configuration-descriptor-3">configuration descriptor</a>, if defined.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbconfiguration-interfaces" id="ref-for-dom-usbconfiguration-interfaces-1">interfaces</a></code> attribute SHALL contain a list of
interfaces exposed by this device configuration. These interfaces SHALL by
populated by collecting the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-3">interface descriptors</a> contained within this <a data-link-type="dfn" href="#configuration-descriptor" id="ref-for-configuration-descriptor-4">configuration descriptor</a> and organizing them by <code>bInterfaceNumber</code>.</p>
   <p class="issue" id="issue-7197531b"><a class="self-link" href="#issue-7197531b"></a> Include some non-normative information about device configurations. <a href="https://github.com/wicg/webusb/issues/46">&lt;https://github.com/wicg/webusb/issues/46></a></p>
   <h3 class="heading settled" data-level="5.3" id="interfaces"><span class="secno">5.3. </span><span class="content">Interfaces</span><a class="self-link" href="#interfaces"></a></h3>
<pre class="idl highlight def">[<dfn class="nv idl-code" data-dfn-for="USBInterface" data-dfn-type="constructor" data-export="" data-lt="USBInterface(configuration, interfaceNumber)" id="dom-usbinterface-usbinterface">Constructor<a class="self-link" href="#dom-usbinterface-usbinterface"></a></dfn>(<a class="n" data-link-type="idl-name" href="#usbconfiguration" id="ref-for-usbconfiguration-3">USBConfiguration</a> <dfn class="nv idl-code" data-dfn-for="USBInterface/USBInterface(configuration, interfaceNumber)" data-dfn-type="argument" data-export="" id="dom-usbinterface-usbinterface-configuration-interfacenumber-configuration">configuration<a class="self-link" href="#dom-usbinterface-usbinterface-configuration-interfacenumber-configuration"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBInterface/USBInterface(configuration, interfaceNumber)" data-dfn-type="argument" data-export="" id="dom-usbinterface-usbinterface-configuration-interfacenumber-interfacenumber">interfaceNumber<a class="self-link" href="#dom-usbinterface-usbinterface-configuration-interfacenumber-interfacenumber"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbinterface">USBInterface</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbinterface-interfacenumber">interfaceNumber</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbalternateinterface" id="ref-for-usbalternateinterface-1">USBAlternateInterface</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBAlternateInterface" id="dom-usbinterface-alternate">alternate</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbalternateinterface" id="ref-for-usbalternateinterface-2">USBAlternateInterface</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBAlternateInterface>" id="dom-usbinterface-alternates">alternates</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">boolean</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="boolean" id="dom-usbinterface-claimed">claimed</dfn>;
};

[<dfn class="nv idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="constructor" data-export="" data-lt="USBAlternateInterface(deviceInterface, alternateSetting)" id="dom-usbalternateinterface-usbalternateinterface">Constructor<a class="self-link" href="#dom-usbalternateinterface-usbalternateinterface"></a></dfn>(<a class="n" data-link-type="idl-name" href="#usbinterface" id="ref-for-usbinterface-2">USBInterface</a> <dfn class="nv idl-code" data-dfn-for="USBAlternateInterface/USBAlternateInterface(deviceInterface, alternateSetting)" data-dfn-type="argument" data-export="" id="dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-deviceinterface">deviceInterface<a class="self-link" href="#dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-deviceinterface"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBAlternateInterface/USBAlternateInterface(deviceInterface, alternateSetting)" data-dfn-type="argument" data-export="" id="dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-alternatesetting">alternateSetting<a class="self-link" href="#dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-alternatesetting"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbalternateinterface">USBAlternateInterface</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbalternateinterface-alternatesetting">alternateSetting</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbalternateinterface-interfaceclass">interfaceClass</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbalternateinterface-interfacesubclass">interfaceSubclass</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbalternateinterface-interfaceprotocol">interfaceProtocol</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="DOMString?" id="dom-usbalternateinterface-interfacename">interfaceName</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbendpoint" id="ref-for-usbendpoint-1">USBEndpoint</a>> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBAlternateInterface" data-dfn-type="attribute" data-export="" data-readonly="" data-type="FrozenArray<USBEndpoint>" id="dom-usbalternateinterface-endpoints">endpoints</dfn>;
};
</pre>
   <p>Each interface provides a collection of <code class="idl"><a data-link-type="idl" href="#dom-usbinterface-alternates" id="ref-for-dom-usbinterface-alternates-1">alternates</a></code> identified
by a single <code>bInterfaceNumber</code> field found in their <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-4">interface
descriptors</a>. The <code class="idl"><a data-link-type="idl" href="#dom-usbinterface-interfacenumber" id="ref-for-dom-usbinterface-interfacenumber-1">interfaceNumber</a></code> attribute MUST match this
field.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbinterface-alternate" id="ref-for-dom-usbinterface-alternate-1">alternate</a></code> attribute SHALL be set to the <code class="idl"><a data-link-type="idl" href="#usbalternateinterface" id="ref-for-usbalternateinterface-3">USBAlternateInterface</a></code> that is currently selected for this interface, which
by default SHALL be the one with <code>bAlternateSetting</code> equal to <code>0</code>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbinterface-alternates" id="ref-for-dom-usbinterface-alternates-2">alternates</a></code> attribute SHALL contain a list of all alternate
interface configurations available for this interface.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbinterface-claimed" id="ref-for-dom-usbinterface-claimed-13">claimed</a></code> attribute SHALL be set to <code>true</code> when
the interface is claimed by the current execution context and SHALL be set to <code>false</code> otherwise.</p>
   <p>Each alternative interface configuration SHALL have a unique <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-alternatesetting" id="ref-for-dom-usbalternateinterface-alternatesetting-1">alternateSetting</a></code> within a given interface that
matches the <code>bAlternateSetting</code> field of the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-5">interface
descriptor</a> that defines it.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-interfaceclass" id="ref-for-dom-usbalternateinterface-interfaceclass-1">interfaceClass</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-interfacesubclass" id="ref-for-dom-usbalternateinterface-interfacesubclass-1">interfaceSubclass</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-interfaceprotocol" id="ref-for-dom-usbalternateinterface-interfaceprotocol-1">interfaceProtocol</a></code> attributes declare the
communication interface supported by the interface. They MUST correspond
respectively to the values of the <code>bInterfaceClass</code>, <code>bInterfaceSubClass</code> and <code>bInterfaceProtocol</code> fields of
the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-6">interface descriptor</a>.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-interfacename" id="ref-for-dom-usbalternateinterface-interfacename-1">interfaceName</a></code> attribute SHOULD contain the value
of the <a data-link-type="dfn" href="#string-descriptor" id="ref-for-string-descriptor-4">string descriptor</a> indexed by the <code>iInterface</code> field of
the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-7">interface descriptor</a>, if defined.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbalternateinterface-endpoints" id="ref-for-dom-usbalternateinterface-endpoints-1">endpoints</a></code> attribute SHALL contain a list of
endpoints exposed by this interface. These endpoints SHALL by populated from
the endpoint descriptors contained within this <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-8">interface descriptor</a> and
the number of elements in this sequence SHALL match the value of the <code>bNumEndpoints</code> field of the <a data-link-type="dfn" href="#interface-descriptor" id="ref-for-interface-descriptor-9">interface descriptor</a>.</p>
   <p>A deviceâs <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="active-configuration">active configuration</dfn> is the combination of the <code class="idl"><a data-link-type="idl" href="#usbconfiguration" id="ref-for-usbconfiguration-4">USBConfiguration</a></code> selected by calling <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectconfiguration" id="ref-for-dom-usbdevice-selectconfiguration-3">selectConfiguration(configurationValue)</a></code> and the set of <code class="idl"><a data-link-type="idl" href="#usbalternateinterface" id="ref-for-usbalternateinterface-4">USBAlternateInterface</a></code>s selected by calling <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectalternateinterface" id="ref-for-dom-usbdevice-selectalternateinterface-2">selectAlternateInterface(interfaceNumber, alternateSetting)</a></code>.  A
device MAY, by default, be left in an unconfigured state, referred to as
configuration <code>0</code> or may automatically be set to whatever
configuration has <code>bConfigurationValue</code> equal to <code>1</code>.
When a configuration is set all interfaces within that configuration
automatically have the <code class="idl"><a data-link-type="idl" href="#usbalternateinterface" id="ref-for-usbalternateinterface-5">USBAlternateInterface</a></code> with <code>bAlternateSetting</code> equal to <code>0</code> selected by default. It
is therefore unnecessary to call <code class="idl"><a data-link-type="idl" href="#dom-usbdevice-selectalternateinterface" id="ref-for-dom-usbdevice-selectalternateinterface-3">selectAlternateInterface(interfaceNumber, alternateSetting)</a></code> with <var>alternateSetting</var> equal to <code>0</code> for each interface when opening a
device.</p>
   <h3 class="heading settled" data-level="5.4" id="endpoints"><span class="secno">5.4. </span><span class="content">Endpoints</span><a class="self-link" href="#endpoints"></a></h3>
<pre class="idl highlight def"><span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-usbdirection">USBDirection</dfn> {
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBDirection" data-dfn-type="enum-value" data-export="" data-lt="&quot;in&quot;|in" id="dom-usbdirection-in">"in"</dfn>,
  <dfn class="s dfn-paneled idl-code" data-dfn-for="USBDirection" data-dfn-type="enum-value" data-export="" data-lt="&quot;out&quot;|out" id="dom-usbdirection-out">"out"</dfn>
};

<span class="kt">enum</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="enum" data-export="" id="enumdef-usbendpointtype">USBEndpointType</dfn> {
  <dfn class="s idl-code" data-dfn-for="USBEndpointType" data-dfn-type="enum-value" data-export="" data-lt="&quot;bulk&quot;|bulk" id="dom-usbendpointtype-bulk">"bulk"<a class="self-link" href="#dom-usbendpointtype-bulk"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="USBEndpointType" data-dfn-type="enum-value" data-export="" data-lt="&quot;interrupt&quot;|interrupt" id="dom-usbendpointtype-interrupt">"interrupt"<a class="self-link" href="#dom-usbendpointtype-interrupt"></a></dfn>,
  <dfn class="s idl-code" data-dfn-for="USBEndpointType" data-dfn-type="enum-value" data-export="" data-lt="&quot;isochronous&quot;|isochronous" id="dom-usbendpointtype-isochronous">"isochronous"<a class="self-link" href="#dom-usbendpointtype-isochronous"></a></dfn>
};

[<dfn class="nv idl-code" data-dfn-for="USBEndpoint" data-dfn-type="constructor" data-export="" data-lt="USBEndpoint(alternate, endpointNumber, direction)" id="dom-usbendpoint-usbendpoint">Constructor<a class="self-link" href="#dom-usbendpoint-usbendpoint"></a></dfn>(<a class="n" data-link-type="idl-name" href="#usbalternateinterface" id="ref-for-usbalternateinterface-6">USBAlternateInterface</a> <dfn class="nv idl-code" data-dfn-for="USBEndpoint/USBEndpoint(alternate, endpointNumber, direction)" data-dfn-type="argument" data-export="" id="dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-alternate">alternate<a class="self-link" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-alternate"></a></dfn>, <span class="kt">octet</span> <dfn class="nv idl-code" data-dfn-for="USBEndpoint/USBEndpoint(alternate, endpointNumber, direction)" data-dfn-type="argument" data-export="" id="dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-endpointnumber">endpointNumber<a class="self-link" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-endpointnumber"></a></dfn>, <a class="n" data-link-type="idl-name" href="#enumdef-usbdirection" id="ref-for-enumdef-usbdirection-2">USBDirection</a> <dfn class="nv idl-code" data-dfn-for="USBEndpoint/USBEndpoint(alternate, endpointNumber, direction)" data-dfn-type="argument" data-export="" id="dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-direction">direction<a class="self-link" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-direction"></a></dfn>)]
<span class="kt">interface</span> <dfn class="nv dfn-paneled idl-code" data-dfn-type="interface" data-export="" id="usbendpoint">USBEndpoint</dfn> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBEndpoint" data-dfn-type="attribute" data-export="" data-readonly="" data-type="octet" id="dom-usbendpoint-endpointnumber">endpointNumber</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbdirection" id="ref-for-enumdef-usbdirection-3">USBDirection</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBEndpoint" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBDirection" id="dom-usbendpoint-direction">direction</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbendpointtype" id="ref-for-enumdef-usbendpointtype-1">USBEndpointType</a> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBEndpoint" data-dfn-type="attribute" data-export="" data-readonly="" data-type="USBEndpointType" id="dom-usbendpoint-type">type</dfn>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <dfn class="nv dfn-paneled idl-code" data-dfn-for="USBEndpoint" data-dfn-type="attribute" data-export="" data-readonly="" data-type="unsigned long" id="dom-usbendpoint-packetsize">packetSize</dfn>;
};
</pre>
   <p>Each endpoint within a particular device configuration SHALL have a unique
combination of <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-endpointnumber" id="ref-for-dom-usbendpoint-endpointnumber-1">endpointNumber</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-direction" id="ref-for-dom-usbendpoint-direction-1">direction</a></code>.
The <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-endpointnumber" id="ref-for-dom-usbendpoint-endpointnumber-2">endpointNumber</a></code> MUST equal the 4 least significant bits of
the <code>bEndpointAddress</code> field of the <a data-link-type="dfn" href="#endpoint-descriptor" id="ref-for-endpoint-descriptor-1">endpoint descriptor</a> defining the endpoint.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-direction" id="ref-for-dom-usbendpoint-direction-2">direction</a></code> attribute declares the transfer direction
supported by this endpoint and is equal to <code class="idl"><a data-link-type="idl" href="#dom-usbdirection-in" id="ref-for-dom-usbdirection-in-2">"in"</a></code> if the most
significant bit of the <code>bEndpointAddress</code> is set and <code class="idl"><a data-link-type="idl" href="#dom-usbdirection-out" id="ref-for-dom-usbdirection-out-2">"out"</a></code> otherwise. An endpoint may either carry data <code>IN</code> from the device to host or <code>OUT</code> from host to device.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-type" id="ref-for-dom-usbendpoint-type-1">type</a></code> attribute declares the type of data transfer supported
by this endpoint.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-usbendpoint-packetsize" id="ref-for-dom-usbendpoint-packetsize-1">packetSize</a></code> attribute declares the packet size employed by
this endpoint and MUST be equal to the value of the <code>wMaxPacketSize</code> of the <a data-link-type="dfn" href="#endpoint-descriptor" id="ref-for-endpoint-descriptor-2">endpoint descriptor</a> defining it. In a High-Speed, High-Bandwidth
endpoint this value will include the multiplication factor provided by issuing
multiple transactions per microframe. In a SuperSpeed device this value will
include the multiplication factor provided by the <code>bMaxBurst</code> field
of the SuperSpeed Endpoint Companion descriptor.</p>
   <h2 class="heading settled" data-level="6" id="terminology"><span class="secno">6. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h2>
   <p>This specification uses several terms taken from <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>. While
reference is made to version 3.1 of the Universal Serial Bus many of
these concepts exist in previous versions as well. Significant
differences between USB versions that have bearing on this specification
will be called out explicitly.</p>
   <p><dfn data-dfn-type="dfn" data-noexport="" id="descriptors">Descriptors<a class="self-link" href="#descriptors"></a></dfn> are binary data structures that can be read from
a device and describe its properties and function:</p>
   <ul>
    <li data-md="">
     <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="device-descriptor">device descriptor</dfn> contains information applicable to
the entire devices and is described in section 9.6.1 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
    <li data-md="">
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="configuration-descriptor">configuration descriptor</dfn> describes a particular set of
device interfaces and endpoints that can be selected by the host.
Its fields are described in section 9.6.3 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
    <li data-md="">
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="interface-descriptor">interface descriptor</dfn> describes the interface of a particular
functional component of a device including its protocol and communication
endpoints. Its fields are described in section 9.6.5 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
    <li data-md="">
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="interface-association-descriptor">interface association descriptor</dfn> creates an
association between multiple interfaces that are part of a single
functional unit of a device. Its fields are described in section
9.6.4 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
    <li data-md="">
     <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="endpoint-descriptor">endpoint descriptor</dfn> describes a channel through which
data is either sent to or received from the device. Its fields are
described in section 9.6.6 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
    <li data-md="">
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="string-descriptor">string descriptor</dfn> contains a single UTF16-LE string and is
referenced by index by other descriptors. Its fields are described in
section 9.6.9 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
   </ul>
   <p>The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="binary-object-store">Binary Object Store</dfn> (<abbr title="Binary Object Store">BOS</abbr>) is an additional set of
descriptors that are more free-form than the standard device
descriptors. Of note is the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="platform-descriptor">Platform Descriptor</dfn> type which
allows third parties (such as this specification) to declare their own
types of descriptors. Each of these is identified by a UUID. The Binary
Object Store is described in section 9.6.2 of <a data-link-type="biblio" href="#biblio-usb31">[USB31]</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="usb-device">USB device</dfn> has a single <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-9">device descriptor</a> which links to
one or more <a data-link-type="dfn" href="#configuration-descriptor" id="ref-for-configuration-descriptor-5">configuration descriptors</a>. Itâs <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="vendor-id">vendor ID</dfn> is
assigned to the device manufacturer by the USB-IF and is stored in the <code>idVendor</code> field of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-10">device descriptor</a>. Itâs <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="product ID" data-noexport="" id="product-id">product
ID</dfn> is assigned by the manufacturer and is stored in the <code>idProduct</code> field of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-11">device descriptor</a>. Itâs <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="serial number" data-noexport="" id="serial-number">serial
number</dfn> is an optional property that is defined if the <code>iSerialNumber</code> field of the <a data-link-type="dfn" href="#device-descriptor" id="ref-for-device-descriptor-12">device descriptor</a> is not equal
to <code>0</code> and is the <a data-link-type="dfn" href="#string-descriptor" id="ref-for-string-descriptor-5">string descriptor</a> referred to by that index.</p>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words âMUSTâ, âMUST NOTâ, âREQUIREDâ, âSHALLâ, âSHALL NOTâ, âSHOULDâ, âSHOULD NOTâ, âRECOMMENDEDâ, âMAYâ, and âOPTIONALâ
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words âfor exampleâ
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-ae2b6bc0"><a class="self-link" href="#example-ae2b6bc0"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word âNoteâ
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">â</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">â</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">â</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Donât scroll to compensate for the ToC if weâre above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I donât know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldnât exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isnât standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we donât have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While weâre at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Canât find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#active-configuration">active configuration</a><span>, in Â§5.3</span>
   <li><a href="#add-device-to-storage">add device to storage</a><span>, in Â§4</span>
   <li><a href="#dom-usbpermissionstorage-alloweddevices">allowedDevices</a><span>, in Â§4.2</span>
   <li><a href="#allowed-origins-header">Allowed Origins Header</a><span>, in Â§3.3</span>
   <li><a href="#dictdef-allowedusbdevice">AllowedUSBDevice</a><span>, in Â§4.2</span>
   <li><a href="#dom-usbinterface-alternate">alternate</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbinterface-alternates">alternates</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbalternateinterface-alternatesetting">alternateSetting</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbtransferstatus-babble">babble</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbtransferstatus-babble">"babble"</a><span>, in Â§5.1</span>
   <li><a href="#binary-object-store">Binary Object Store</a><span>, in Â§6</span>
   <li><a href="#dom-usbendpointtype-bulk">"bulk"</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbendpointtype-bulk">bulk</a><span>, in Â§5.4</span>
   <li>
    bytesWritten
    <ul>
     <li><a href="#dom-usbouttransferresult-byteswritten">attribute for USBOutTransferResult</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousouttransferpacket-byteswritten">attribute for USBIsochronousOutTransferPacket</a><span>, in Â§5.1</span>
    </ul>
   <li><a href="#check-permissions-for-device">check permissions for device</a><span>, in Â§4</span>
   <li><a href="#check-the-validity-of-the-control-transfer-parameters">check the validity of the control transfer parameters</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbinterface-claimed">claimed</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbdevice-claiminterface">claimInterface(interfaceNumber)</a><span>, in Â§5</span>
   <li><a href="#dom-usbrequesttype-class">"class"</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrequesttype-class">class</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdevicefilter-classcode">classCode</a><span>, in Â§4</span>
   <li><a href="#dom-usbdevice-clearhalt">clearHalt(direction, endpointNumber)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-close">close()</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-configuration">configuration</a><span>, in Â§5</span>
   <li><a href="#configuration-descriptor">configuration descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbconfiguration-configurationname">configurationName</a><span>, in Â§5.2</span>
   <li><a href="#dom-usbdevice-configurations">configurations</a><span>, in Â§5</span>
   <li><a href="#configuration-subset-header">Configuration Subset Header</a><span>, in Â§3.3.1</span>
   <li><a href="#dom-usbconfiguration-configurationvalue">configurationValue</a><span>, in Â§5.2</span>
   <li><a href="#connect">connect</a><span>, in Â§4.1</span>
   <li><a href="#control-transfer">control transfer</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdevice-controltransferin">controlTransferIn(setup, length)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-controltransferout">controlTransferOut(setup)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-controltransferout">controlTransferOut(setup, data)</a><span>, in Â§5</span>
   <li>
    data
    <ul>
     <li><a href="#dom-usbintransferresult-data">attribute for USBInTransferResult</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousintransferpacket-data">attribute for USBIsochronousInTransferPacket</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousintransferresult-data">attribute for USBIsochronousInTransferResult</a><span>, in Â§5.1</span>
    </ul>
   <li><a href="#data-stage">data stage</a><span>, in Â§5.1</span>
   <li><a href="#default-control-pipe">default control pipe</a><span>, in Â§5.1</span>
   <li><a href="#descriptors">Descriptors</a><span>, in Â§6</span>
   <li><a href="#dom-usbrecipient-device">"device"</a><span>, in Â§5.1</span>
   <li>
    device
    <ul>
     <li><a href="#dom-usbconnectioneventinit-device">dict-member for USBConnectionEventInit</a><span>, in Â§4.1</span>
     <li><a href="#dom-usbconnectionevent-device">attribute for USBConnectionEvent</a><span>, in Â§4.1</span>
     <li><a href="#dom-usbrecipient-device">enum-value for USBRecipient</a><span>, in Â§5.1</span>
    </ul>
   <li><a href="#dom-usbdevice-deviceclass">deviceClass</a><span>, in Â§5</span>
   <li><a href="#device-descriptor">device descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbdevice-deviceprotocol">deviceProtocol</a><span>, in Â§5</span>
   <li><a href="#dom-usbpermissionresult-devices">devices</a><span>, in Â§4.2</span>
   <li><a href="#dom-allowedusbdevice-devices-slot">[[devices]]</a><span>, in Â§4.2</span>
   <li><a href="#dom-usbdevice-devicesubclass">deviceSubclass</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-deviceversionmajor">deviceVersionMajor</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-deviceversionminor">deviceVersionMinor</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-deviceversionsubminor">deviceVersionSubminor</a><span>, in Â§5</span>
   <li><a href="#dom-usbendpoint-direction">direction</a><span>, in Â§5.4</span>
   <li><a href="#disconnect">disconnect</a><span>, in Â§4.1</span>
   <li><a href="#dom-usbrecipient-endpoint">endpoint</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrecipient-endpoint">"endpoint"</a><span>, in Â§5.1</span>
   <li><a href="#endpoint-descriptor">endpoint descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbendpoint-endpointnumber">endpointNumber</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbalternateinterface-endpoints">endpoints</a><span>, in Â§5.3</span>
   <li><a href="#enumerate-all-devices-attached-to-the-system">enumerate all devices attached to the system</a><span>, in Â§4</span>
   <li>
    filters
    <ul>
     <li><a href="#dom-usbdevicerequestoptions-filters">dict-member for USBDeviceRequestOptions</a><span>, in Â§4</span>
     <li><a href="#dom-usbpermissiondescriptor-filters">dict-member for USBPermissionDescriptor</a><span>, in Â§4.2</span>
    </ul>
   <li><a href="#function-subset-header">Function Subset Header</a><span>, in Â§3.3.2</span>
   <li><a href="#get-allowed-origins">Get Allowed Origins</a><span>, in Â§3.2</span>
   <li><a href="#dom-usb-getdevices">getDevices()</a><span>, in Â§4</span>
   <li><a href="#get-url">Get URL</a><span>, in Â§3.2.1</span>
   <li><a href="#dom-usbdirection-in">"in"</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbdirection-in">in</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbcontroltransferparameters-index">index</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrecipient-interface">interface</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrecipient-interface">"interface"</a><span>, in Â§5.1</span>
   <li><a href="#interface-association-descriptor">interface association descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbalternateinterface-interfaceclass">interfaceClass</a><span>, in Â§5.3</span>
   <li><a href="#interface-descriptor">interface descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbalternateinterface-interfacename">interfaceName</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbinterface-interfacenumber">interfaceNumber</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbalternateinterface-interfaceprotocol">interfaceProtocol</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbconfiguration-interfaces">interfaces</a><span>, in Â§5.2</span>
   <li><a href="#dom-usbalternateinterface-interfacesubclass">interfaceSubclass</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbendpointtype-interrupt">interrupt</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbendpointtype-interrupt">"interrupt"</a><span>, in Â§5.4</span>
   <li><a href="#is-allowed-to-access-a-device">is allowed to access a device</a><span>, in Â§3.2.1</span>
   <li><a href="#is-allowed-to-access-configuration">is allowed to access configuration</a><span>, in Â§3.2.1</span>
   <li><a href="#is-allowed-to-access-interface">is allowed to access interface</a><span>, in Â§3.2.1</span>
   <li><a href="#is-not-a-valid-filter">is not a valid filter</a><span>, in Â§4</span>
   <li><a href="#dom-usbendpointtype-isochronous">"isochronous"</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbendpointtype-isochronous">isochronous</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbdevice-isochronoustransferin">isochronousTransferIn(endpointNumber, packetLengths)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-isochronoustransferout">isochronousTransferOut(endpointNumber, data, packetLengths)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-manufacturername">manufacturerName</a><span>, in Â§5</span>
   <li><a href="#match-a-filter">match a filter</a><span>, in Â§4</span>
   <li><a href="#dom-usbtransferstatus-ok">"ok"</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbtransferstatus-ok">ok</a><span>, in Â§5.1</span>
   <li><a href="#dom-usb-onconnect">onconnect</a><span>, in Â§4</span>
   <li><a href="#dom-usb-ondisconnect">ondisconnect</a><span>, in Â§4</span>
   <li><a href="#dom-usbdevice-open">open()</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-opened">opened</a><span>, in Â§5</span>
   <li><a href="#dom-usbrecipient-other">"other"</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrecipient-other">other</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdirection-out">out</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbdirection-out">"out"</a><span>, in Â§5.4</span>
   <li>
    packets
    <ul>
     <li><a href="#dom-usbisochronousintransferresult-packets">attribute for USBIsochronousInTransferResult</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousouttransferresult-packets">attribute for USBIsochronousOutTransferResult</a><span>, in Â§5.1</span>
    </ul>
   <li><a href="#dom-usbendpoint-packetsize">packetSize</a><span>, in Â§5.4</span>
   <li><a href="#platform-descriptor">Platform Descriptor</a><span>, in Â§6</span>
   <li><a href="#product-id">product ID</a><span>, in Â§6</span>
   <li>
    productId
    <ul>
     <li><a href="#dom-usbdevicefilter-productid">dict-member for USBDeviceFilter</a><span>, in Â§4</span>
     <li><a href="#dom-allowedusbdevice-productid">dict-member for AllowedUSBDevice</a><span>, in Â§4.2</span>
     <li><a href="#dom-usbdevice-productid">attribute for USBDevice</a><span>, in Â§5</span>
    </ul>
   <li><a href="#dom-usbdevice-productname">productName</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevicefilter-protocolcode">protocolCode</a><span>, in Â§4</span>
   <li><a href="#public-device-registry">Public Device Registry</a><span>, in Â§3.3.4</span>
   <li><a href="#query-the-usb-permission">query the "usb" permission</a><span>, in Â§4.2</span>
   <li><a href="#dom-usbcontroltransferparameters-recipient">recipient</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdevice-releaseinterface">releaseInterface(interfaceNumber)</a><span>, in Â§5</span>
   <li><a href="#dom-usbcontroltransferparameters-request">request</a><span>, in Â§5.1</span>
   <li><a href="#dom-usb-requestdevice">requestDevice(options)</a><span>, in Â§4</span>
   <li><a href="#request-the-usb-permission">request the "usb" permission</a><span>, in Â§4</span>
   <li><a href="#dom-usbcontroltransferparameters-requesttype">requestType</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdevice-reset">reset()</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-selectalternateinterface">selectAlternateInterface(interfaceNumber, alternateSetting)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-selectconfiguration">selectConfiguration(configurationValue)</a><span>, in Â§5</span>
   <li><a href="#serial-number">serial number</a><span>, in Â§6</span>
   <li>
    serialNumber
    <ul>
     <li><a href="#dom-usbdevicefilter-serialnumber">dict-member for USBDeviceFilter</a><span>, in Â§4</span>
     <li><a href="#dom-allowedusbdevice-serialnumber">dict-member for AllowedUSBDevice</a><span>, in Â§4.2</span>
     <li><a href="#dom-usbdevice-serialnumber">attribute for USBDevice</a><span>, in Â§5</span>
    </ul>
   <li><a href="#setup-packet">setup packet</a><span>, in Â§5.1</span>
   <li><a href="#setup-stage">setup stage</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbtransferstatus-stall">"stall"</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbtransferstatus-stall">stall</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrequesttype-standard">"standard"</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrequesttype-standard">standard</a><span>, in Â§5.1</span>
   <li>
    status
    <ul>
     <li><a href="#dom-usbintransferresult-status">attribute for USBInTransferResult</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbouttransferresult-status">attribute for USBOutTransferResult</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousintransferpacket-status">attribute for USBIsochronousInTransferPacket</a><span>, in Â§5.1</span>
     <li><a href="#dom-usbisochronousouttransferpacket-status">attribute for USBIsochronousOutTransferPacket</a><span>, in Â§5.1</span>
    </ul>
   <li><a href="#status-stage">status stage</a><span>, in Â§5.1</span>
   <li><a href="#string-descriptor">string descriptor</a><span>, in Â§6</span>
   <li><a href="#dom-usbdevicefilter-subclasscode">subclassCode</a><span>, in Â§4</span>
   <li><a href="#dom-usbdevice-transferin">transferIn(endpointNumber, length)</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-transferout">transferOut(endpointNumber, data)</a><span>, in Â§5</span>
   <li><a href="#dom-usbendpoint-type">type</a><span>, in Â§5.4</span>
   <li><a href="#url-descriptor">URL Descriptor</a><span>, in Â§3.3.3</span>
   <li><a href="#dom-permissionname-usb">"usb"</a><span>, in Â§4.2</span>
   <li><a href="#dom-navigator-usb">usb</a><span>, in Â§4</span>
   <li><a href="#usb">USB</a><span>, in Â§4</span>
   <li><a href="#usbalternateinterface">USBAlternateInterface</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbalternateinterface-usbalternateinterface">USBAlternateInterface(deviceInterface, alternateSetting)</a><span>, in Â§5.3</span>
   <li><a href="#usbconfiguration">USBConfiguration</a><span>, in Â§5.2</span>
   <li><a href="#dom-usbconfiguration-usbconfiguration">USBConfiguration(device, configurationValue)</a><span>, in Â§5.2</span>
   <li><a href="#usbconnectionevent">USBConnectionEvent</a><span>, in Â§4.1</span>
   <li><a href="#dictdef-usbconnectioneventinit">USBConnectionEventInit</a><span>, in Â§4.1</span>
   <li><a href="#dom-usbconnectionevent-usbconnectionevent">USBConnectionEvent(type, eventInitDict)</a><span>, in Â§4.1</span>
   <li><a href="#dictdef-usbcontroltransferparameters">USBControlTransferParameters</a><span>, in Â§5.1</span>
   <li><a href="#usb-device">USB device</a><span>, in Â§6</span>
   <li><a href="#usbdevice">USBDevice</a><span>, in Â§5</span>
   <li><a href="#dictdef-usbdevicefilter">USBDeviceFilter</a><span>, in Â§4</span>
   <li><a href="#dictdef-usbdevicerequestoptions">USBDeviceRequestOptions</a><span>, in Â§4</span>
   <li><a href="#enumdef-usbdirection">USBDirection</a><span>, in Â§5.4</span>
   <li><a href="#usbendpoint">USBEndpoint</a><span>, in Â§5.4</span>
   <li><a href="#dom-usbendpoint-usbendpoint">USBEndpoint(alternate, endpointNumber, direction)</a><span>, in Â§5.4</span>
   <li><a href="#enumdef-usbendpointtype">USBEndpointType</a><span>, in Â§5.4</span>
   <li><a href="#usbinterface">USBInterface</a><span>, in Â§5.3</span>
   <li><a href="#dom-usbinterface-usbinterface">USBInterface(configuration, interfaceNumber)</a><span>, in Â§5.3</span>
   <li><a href="#usbintransferresult">USBInTransferResult</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbintransferresult-usbintransferresult">USBInTransferResult(data, status)</a><span>, in Â§5.1</span>
   <li><a href="#usbisochronousintransferpacket">USBIsochronousInTransferPacket</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket">USBIsochronousInTransferPacket(data, status)</a><span>, in Â§5.1</span>
   <li><a href="#usbisochronousintransferresult">USBIsochronousInTransferResult</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbisochronousintransferresult-usbisochronousintransferresult">USBIsochronousInTransferResult(data, packets)</a><span>, in Â§5.1</span>
   <li><a href="#usbisochronousouttransferpacket">USBIsochronousOutTransferPacket</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket">USBIsochronousOutTransferPacket(bytesWritten, status)</a><span>, in Â§5.1</span>
   <li><a href="#usbisochronousouttransferresult">USBIsochronousOutTransferResult</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbisochronousouttransferresult-usbisochronousouttransferresult">USBIsochronousOutTransferResult(packets)</a><span>, in Â§5.1</span>
   <li><a href="#usbouttransferresult">USBOutTransferResult</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbouttransferresult-usbouttransferresult">USBOutTransferResult(bytesWritten, status)</a><span>, in Â§5.1</span>
   <li><a href="#dictdef-usbpermissiondescriptor">USBPermissionDescriptor</a><span>, in Â§4.2</span>
   <li><a href="#usbpermissionresult">USBPermissionResult</a><span>, in Â§4.2</span>
   <li><a href="#dictdef-usbpermissionstorage">USBPermissionStorage</a><span>, in Â§4.2</span>
   <li><a href="#enumdef-usbrecipient">USBRecipient</a><span>, in Â§5.1</span>
   <li><a href="#enumdef-usbrequesttype">USBRequestType</a><span>, in Â§5.1</span>
   <li><a href="#enumdef-usbtransferstatus">USBTransferStatus</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbdevice-usbversionmajor">usbVersionMajor</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-usbversionminor">usbVersionMinor</a><span>, in Â§5</span>
   <li><a href="#dom-usbdevice-usbversionsubminor">usbVersionSubminor</a><span>, in Â§5</span>
   <li><a href="#dom-usbcontroltransferparameters-value">value</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrequesttype-vendor">vendor</a><span>, in Â§5.1</span>
   <li><a href="#dom-usbrequesttype-vendor">"vendor"</a><span>, in Â§5.1</span>
   <li>
    vendorId
    <ul>
     <li><a href="#dom-usbdevicefilter-vendorid">dict-member for USBDeviceFilter</a><span>, in Â§4</span>
     <li><a href="#dom-allowedusbdevice-vendorid">dict-member for AllowedUSBDevice</a><span>, in Â§4.2</span>
     <li><a href="#dom-usbdevice-vendorid">attribute for USBDevice</a><span>, in Â§5</span>
    </ul>
   <li><a href="#vendor-id">vendor ID</a><span>, in Â§6</span>
   <li><a href="#webusb-platform-capability-descriptor">WebUSB Platform Capability Descriptor</a><span>, in Â§3</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[WHATWG-DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#event">Event</a>
     <li><a href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a>
     <li><a href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMASCRIPT]</a> defines the following terms:
    <ul>
     <li><a href="https://tc39.github.io/ecma262/#sec-array-objects">Array</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a>
     <li><a href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a>
     <li><a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">in parallel</a>
    </ul>
   <li>
    <a data-link-type="biblio">[permissions]</a> defines the following terms:
    <ul>
     <li><a href="https://w3c.github.io/permissions/#dom-permissionstate-denied">"denied"</a>
     <li><a href="https://w3c.github.io/permissions/#dom-permissionstate-prompt">"prompt"</a>
     <li><a href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor">PermissionDescriptor</a>
     <li><a href="https://w3c.github.io/permissions/#permissionstatus">PermissionStatus</a>
     <li><a href="https://w3c.github.io/permissions/#permission-descriptor-type">permission descriptor type</a>
     <li><a href="https://w3c.github.io/permissions/#permission-query-algorithm">permission query algorithm</a>
     <li><a href="https://w3c.github.io/permissions/#permission-request-algorithm">permission request algorithm</a>
     <li><a href="https://w3c.github.io/permissions/#permission-result-type">permission result type</a>
     <li><a href="https://w3c.github.io/permissions/#dom-permissionstatus-state">state</a>
    </ul>
   <li>
    <a data-link-type="biblio">[promises-guide]</a> defines the following terms:
    <ul>
     <li><a href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">reject</a>
     <li><a href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">resolve</a>
     <li><a href="https://www.w3.org/2001/tag/doc/promises-guide/#transforming-by">transforming</a>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><a href="https://heycam.github.io/webidl/#aborterror">AbortError</a>
     <li><a href="https://heycam.github.io/webidl/#idl-ArrayBuffer">ArrayBuffer</a>
     <li><a href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a>
     <li><a href="https://heycam.github.io/webidl/#idl-DataView">DataView</a>
     <li><a href="https://heycam.github.io/webidl/#idl-frozen-array">FrozenArray</a>
     <li><a href="https://heycam.github.io/webidl/#invalidaccesserror">InvalidAccessError</a>
     <li><a href="https://heycam.github.io/webidl/#invalidstateerror">InvalidStateError</a>
     <li><a href="https://heycam.github.io/webidl/#networkerror">NetworkError</a>
     <li><a href="https://heycam.github.io/webidl/#notfounderror">NotFoundError</a>
     <li><a href="https://heycam.github.io/webidl/#SameObject">SameObject</a>
     <li><a href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a>
     <li><a href="https://heycam.github.io/webidl/#securityerror">SecurityError</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-ecmascript">[ECMASCRIPT]
   <dd><a href="https://tc39.github.io/ecma262/">ECMAScript Language Specification</a>. URL: <a href="https://tc39.github.io/ecma262/">https://tc39.github.io/ecma262/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-permissions">[PERMISSIONS]
   <dd>Mounir Lamouri; Marcos Caceres. <a href="https://w3c.github.io/permissions/">The Permissions API</a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-promises-guide">[PROMISES-GUIDE]
   <dd>Domenic Denicola. <a href="https://www.w3.org/2001/tag/doc/promises-guide">Writing Promise-Using Specifications</a>. 16 February 2016. Finding of the W3C TAG. URL: <a href="https://www.w3.org/2001/tag/doc/promises-guide">https://www.w3.org/2001/tag/doc/promises-guide</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
   <dt id="biblio-whatwg-dom">[WHATWG-DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-cors">[CORS]
   <dd>Anne van Kesteren. <a href="https://www.w3.org/TR/cors/">Cross-Origin Resource Sharing</a>. 16 January 2014. REC. URL: <a href="https://www.w3.org/TR/cors/">https://www.w3.org/TR/cors/</a>
   <dt id="biblio-powerful-features">[POWERFUL-FEATURES]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-secure-contexts/">Secure Contexts</a>. URL: <a href="https://w3c.github.io/webappsec-secure-contexts/">https://w3c.github.io/webappsec-secure-contexts/</a>
   <dt id="biblio-rfc6454">[RFC6454]
   <dd>A. Barth. <a href="https://tools.ietf.org/html/rfc6454">The Web Origin Concept</a>. December 2011. Proposed Standard. URL: <a href="https://tools.ietf.org/html/rfc6454">https://tools.ietf.org/html/rfc6454</a>
   <dt id="biblio-usb31">[USB31]
   <dd><a href="http://www.usb.org/developers/docs/">Universal Serial Bus 3.1 Specification</a>. 26 July 2013. URL: <a href="http://www.usb.org/developers/docs/">http://www.usb.org/developers/docs/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl def"><span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbdevicefilter">USBDeviceFilter</a> {
  <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-type="unsigned short " href="#dom-usbdevicefilter-vendorid">vendorId</a>;
  <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-type="unsigned short " href="#dom-usbdevicefilter-productid">productId</a>;
  <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-usbdevicefilter-classcode">classCode</a>;
  <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-usbdevicefilter-subclasscode">subclassCode</a>;
  <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-usbdevicefilter-protocolcode">protocolCode</a>;
  <span class="kt">DOMString</span> <a class="nv" data-type="DOMString " href="#dom-usbdevicefilter-serialnumber">serialNumber</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbdevicerequestoptions">USBDeviceRequestOptions</a> {
  <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicefilter">USBDeviceFilter</a>> <a class="nv" data-type="sequence<USBDeviceFilter> " href="#dom-usbdevicerequestoptions-filters">filters</a>;
};

<span class="kt">interface</span> <a class="nv" href="#usb">USB</a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a> {
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-usb-onconnect">onconnect</a>;
  <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">EventHandler</a> <a class="nv" data-type="EventHandler" href="#dom-usb-ondisconnect">ondisconnect</a>;
  <span class="kt">Promise</span>&lt;<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a>>> <a class="nv" href="#dom-usb-getdevices">getDevices</a>();
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a>> <a class="nv" href="#dom-usb-requestdevice">requestDevice</a>(<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicerequestoptions">USBDeviceRequestOptions</a> <a class="nv" href="#dom-usb-requestdevice-options-options">options</a>);
};

[<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a>]
<span class="kt">partial</span> <span class="kt">interface</span> <a class="nv idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigator">Navigator</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usb">USB</a> <a class="nv" data-readonly="" data-type="USB" href="#dom-navigator-usb">usb</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbconnectioneventinit">USBConnectionEventInit</a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a> {
    <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a> <a class="nv" data-type="USBDevice " href="#dom-usbconnectioneventinit-device">device</a>;
};

[<a class="nv" href="#dom-usbconnectionevent-usbconnectionevent">Constructor</a>(<span class="kt">DOMString</span> <a class="nv" href="#dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-type">type</a>, <a class="n" data-link-type="idl-name" href="#dictdef-usbconnectioneventinit">USBConnectionEventInit</a> <a class="nv" href="#dom-usbconnectionevent-usbconnectionevent-type-eventinitdict-eventinitdict">eventInitDict</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbconnectionevent">USBConnectionEvent</a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event">Event</a> {
  [<a class="nv idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject">SameObject</a>] <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a> <a class="nv" data-readonly="" data-type="USBDevice" href="#dom-usbconnectionevent-device">device</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbpermissiondescriptor">USBPermissionDescriptor</a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/permissions/#dictdef-permissiondescriptor">PermissionDescriptor</a> {
  <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-usbdevicefilter">USBDeviceFilter</a>> <a class="nv" data-type="sequence<USBDeviceFilter> " href="#dom-usbpermissiondescriptor-filters">filters</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-allowedusbdevice">AllowedUSBDevice</a> {
  <span class="kt">required</span> <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-allowedusbdevice-vendorid">vendorId</a>;
  <span class="kt">required</span> <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-allowedusbdevice-productid">productId</a>;
  <span class="kt">DOMString</span> <a class="nv" data-type="DOMString " href="#dom-allowedusbdevice-serialnumber">serialNumber</a>;
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbpermissionstorage">USBPermissionStorage</a> : <a class="n" data-link-type="idl-name">PermissionStorage</a> {
  <span class="kt">required</span> <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#dictdef-allowedusbdevice">AllowedUSBDevice</a>> <a class="nv" data-default="None" data-type="sequence<AllowedUSBDevice> " href="#dom-usbpermissionstorage-alloweddevices">allowedDevices</a> = [];
};

<span class="kt">interface</span> <a class="nv" href="#usbpermissionresult">USBPermissionResult</a> : <a class="n" data-link-type="idl-name" href="https://w3c.github.io/permissions/#permissionstatus">PermissionStatus</a> {
  <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a>> <a class="nv" data-type="FrozenArray<USBDevice>" href="#dom-usbpermissionresult-devices">devices</a>;
};

<span class="kt">interface</span> <a class="nv" href="#usbdevice">USBDevice</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-usbversionmajor">usbVersionMajor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-usbversionminor">usbVersionMinor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-usbversionsubminor">usbVersionSubminor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-deviceclass">deviceClass</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-devicesubclass">deviceSubclass</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-deviceprotocol">deviceProtocol</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-readonly="" data-type="unsigned short" href="#dom-usbdevice-vendorid">vendorId</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-readonly="" data-type="unsigned short" href="#dom-usbdevice-productid">productId</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-deviceversionmajor">deviceVersionMajor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-deviceversionminor">deviceVersionMinor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbdevice-deviceversionsubminor">deviceVersionSubminor</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <a class="nv" data-readonly="" data-type="DOMString?" href="#dom-usbdevice-manufacturername">manufacturerName</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <a class="nv" data-readonly="" data-type="DOMString?" href="#dom-usbdevice-productname">productName</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <a class="nv" data-readonly="" data-type="DOMString?" href="#dom-usbdevice-serialnumber">serialNumber</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbconfiguration">USBConfiguration</a>? <a class="nv" data-readonly="" data-type="USBConfiguration?" href="#dom-usbdevice-configuration">configuration</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbconfiguration">USBConfiguration</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBConfiguration>" href="#dom-usbdevice-configurations">configurations</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv" data-readonly="" data-type="boolean" href="#dom-usbdevice-opened">opened</a>;
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-open">open</a>();
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-close">close</a>();
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-selectconfiguration">selectConfiguration</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-selectconfiguration-configurationvalue-configurationvalue">configurationValue</a>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-claiminterface">claimInterface</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-claiminterface-interfacenumber-interfacenumber">interfaceNumber</a>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-releaseinterface">releaseInterface</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-releaseinterface-interfacenumber-interfacenumber">interfaceNumber</a>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-selectalternateinterface">selectAlternateInterface</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-interfacenumber">interfaceNumber</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-selectalternateinterface-interfacenumber-alternatesetting-alternatesetting">alternateSetting</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbintransferresult">USBInTransferResult</a>> <a class="nv" href="#dom-usbdevice-controltransferin">controlTransferIn</a>(<a class="n" data-link-type="idl-name" href="#dictdef-usbcontroltransferparameters">USBControlTransferParameters</a> <a class="nv" href="#dom-usbdevice-controltransferin-setup-length-setup">setup</a>, <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" href="#dom-usbdevice-controltransferin-setup-length-length">length</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbouttransferresult">USBOutTransferResult</a>> <a class="nv" href="#dom-usbdevice-controltransferout">controlTransferOut</a>(<a class="n" data-link-type="idl-name" href="#dictdef-usbcontroltransferparameters">USBControlTransferParameters</a> <a class="nv" href="#dom-usbdevice-controltransferout-setup-data-setup">setup</a>, <span class="kt">optional</span> <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <a class="nv" href="#dom-usbdevice-controltransferout-setup-data-data">data</a>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-clearhalt">clearHalt</a>(<a class="n" data-link-type="idl-name" href="#enumdef-usbdirection">USBDirection</a> <a class="nv" href="#dom-usbdevice-clearhalt-direction-endpointnumber-direction">direction</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-clearhalt-direction-endpointnumber-endpointnumber">endpointNumber</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbintransferresult">USBInTransferResult</a>> <a class="nv" href="#dom-usbdevice-transferin">transferIn</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-transferin-endpointnumber-length-endpointnumber">endpointNumber</a>, <span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" href="#dom-usbdevice-transferin-endpointnumber-length-length">length</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbouttransferresult">USBOutTransferResult</a>> <a class="nv" href="#dom-usbdevice-transferout">transferOut</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-transferout-endpointnumber-data-endpointnumber">endpointNumber</a>, <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <a class="nv" href="#dom-usbdevice-transferout-endpointnumber-data-data">data</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferresult">USBIsochronousInTransferResult</a>> <a class="nv" href="#dom-usbdevice-isochronoustransferin">isochronousTransferIn</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-endpointnumber">endpointNumber</a>, <span class="kt">sequence</span>&lt;<span class="kt">unsigned</span> <span class="kt">long</span>> <a class="nv" href="#dom-usbdevice-isochronoustransferin-endpointnumber-packetlengths-packetlengths">packetLengths</a>);
  <span class="kt">Promise</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferresult">USBIsochronousOutTransferResult</a>> <a class="nv" href="#dom-usbdevice-isochronoustransferout">isochronousTransferOut</a>(<span class="kt">octet</span> <a class="nv" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-endpointnumber">endpointNumber</a>, <a class="n" data-link-type="idl-name" href="https://heycam.github.io/webidl/#BufferSource">BufferSource</a> <a class="nv" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-data">data</a>, <span class="kt">sequence</span>&lt;<span class="kt">unsigned</span> <span class="kt">long</span>> <a class="nv" href="#dom-usbdevice-isochronoustransferout-endpointnumber-data-packetlengths-packetlengths">packetLengths</a>);
  <span class="kt">Promise</span>&lt;<span class="kt">void</span>> <a class="nv" href="#dom-usbdevice-reset">reset</a>();
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-usbrequesttype">USBRequestType</a> {
  <a class="s" href="#dom-usbrequesttype-standard">"standard"</a>,
  <a class="s" href="#dom-usbrequesttype-class">"class"</a>,
  <a class="s" href="#dom-usbrequesttype-vendor">"vendor"</a>
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-usbrecipient">USBRecipient</a> {
  <a class="s" href="#dom-usbrecipient-device">"device"</a>,
  <a class="s" href="#dom-usbrecipient-interface">"interface"</a>,
  <a class="s" href="#dom-usbrecipient-endpoint">"endpoint"</a>,
  <a class="s" href="#dom-usbrecipient-other">"other"</a>
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-usbtransferstatus">USBTransferStatus</a> {
  <a class="s" href="#dom-usbtransferstatus-ok">"ok"</a>,
  <a class="s" href="#dom-usbtransferstatus-stall">"stall"</a>,
  <a class="s" href="#dom-usbtransferstatus-babble">"babble"</a>
};

<span class="kt">dictionary</span> <a class="nv" href="#dictdef-usbcontroltransferparameters">USBControlTransferParameters</a> {
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbrequesttype">USBRequestType</a> <a class="nv" data-type="USBRequestType " href="#dom-usbcontroltransferparameters-requesttype">requestType</a>;
  <span class="kt">required</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbrecipient">USBRecipient</a> <a class="nv" data-type="USBRecipient " href="#dom-usbcontroltransferparameters-recipient">recipient</a>;
  <span class="kt">required</span> <span class="kt">octet</span> <a class="nv" data-type="octet " href="#dom-usbcontroltransferparameters-request">request</a>;
  <span class="kt">required</span> <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-type="unsigned short " href="#dom-usbcontroltransferparameters-value">value</a>;
  <span class="kt">required</span> <span class="kt">unsigned</span> <span class="kt">short</span> <a class="nv" data-type="unsigned short " href="#dom-usbcontroltransferparameters-index">index</a>;
};

[<a class="nv" href="#dom-usbintransferresult-usbintransferresult">Constructor</a>(<span class="kt">DataView</span> <a class="nv" href="#dom-usbintransferresult-usbintransferresult-data-status-data">data</a>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" href="#dom-usbintransferresult-usbintransferresult-data-status-status">status</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbintransferresult">USBInTransferResult</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <a class="nv" data-readonly="" data-type="DataView" href="#dom-usbintransferresult-data">data</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" data-readonly="" data-type="USBTransferStatus" href="#dom-usbintransferresult-status">status</a>;
};

[<a class="nv" href="#dom-usbouttransferresult-usbouttransferresult">Constructor</a>(<span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" href="#dom-usbouttransferresult-usbouttransferresult-byteswritten-status-byteswritten">bytesWritten</a>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" href="#dom-usbouttransferresult-usbouttransferresult-byteswritten-status-status">status</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbouttransferresult">USBOutTransferResult</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" data-readonly="" data-type="unsigned long" href="#dom-usbouttransferresult-byteswritten">bytesWritten</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" data-readonly="" data-type="USBTransferStatus" href="#dom-usbouttransferresult-status">status</a>;
};

[<a class="nv" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket">Constructor</a>(<span class="kt">DataView</span> <a class="nv" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-data">data</a>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" href="#dom-usbisochronousintransferpacket-usbisochronousintransferpacket-data-status-status">status</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbisochronousintransferpacket">USBIsochronousInTransferPacket</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <a class="nv" data-readonly="" data-type="DataView" href="#dom-usbisochronousintransferpacket-data">data</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" data-readonly="" data-type="USBTransferStatus" href="#dom-usbisochronousintransferpacket-status">status</a>;
};

[<a class="nv" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult">Constructor</a>(<span class="kt">DataView</span> <a class="nv" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-data">data</a>, <span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferpacket">USBIsochronousInTransferPacket</a>> <a class="nv" href="#dom-usbisochronousintransferresult-usbisochronousintransferresult-data-packets-packets">packets</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbisochronousintransferresult">USBIsochronousInTransferResult</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DataView</span> <a class="nv" data-readonly="" data-type="DataView" href="#dom-usbisochronousintransferresult-data">data</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousintransferpacket">USBIsochronousInTransferPacket</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBIsochronousInTransferPacket>" href="#dom-usbisochronousintransferresult-packets">packets</a>;
};

[<a class="nv" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket">Constructor</a>(<span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-byteswritten">bytesWritten</a>, <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" href="#dom-usbisochronousouttransferpacket-usbisochronousouttransferpacket-byteswritten-status-status">status</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbisochronousouttransferpacket">USBIsochronousOutTransferPacket</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" data-readonly="" data-type="unsigned long" href="#dom-usbisochronousouttransferpacket-byteswritten">bytesWritten</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbtransferstatus">USBTransferStatus</a> <a class="nv" data-readonly="" data-type="USBTransferStatus" href="#dom-usbisochronousouttransferpacket-status">status</a>;
};

[<a class="nv" href="#dom-usbisochronousouttransferresult-usbisochronousouttransferresult">Constructor</a>(<span class="kt">sequence</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferpacket">USBIsochronousOutTransferPacket</a>> <a class="nv" href="#dom-usbisochronousouttransferresult-usbisochronousouttransferresult-packets-packets">packets</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbisochronousouttransferresult">USBIsochronousOutTransferResult</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbisochronousouttransferpacket">USBIsochronousOutTransferPacket</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBIsochronousOutTransferPacket>" href="#dom-usbisochronousouttransferresult-packets">packets</a>;
};

[<a class="nv" href="#dom-usbconfiguration-usbconfiguration">Constructor</a>(<a class="n" data-link-type="idl-name" href="#usbdevice">USBDevice</a> <a class="nv" href="#dom-usbconfiguration-usbconfiguration-device-configurationvalue-device">device</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbconfiguration-usbconfiguration-device-configurationvalue-configurationvalue">configurationValue</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbconfiguration">USBConfiguration</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbconfiguration-configurationvalue">configurationValue</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <a class="nv" data-readonly="" data-type="DOMString?" href="#dom-usbconfiguration-configurationname">configurationName</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbinterface">USBInterface</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBInterface>" href="#dom-usbconfiguration-interfaces">interfaces</a>;
};

[<a class="nv" href="#dom-usbinterface-usbinterface">Constructor</a>(<a class="n" data-link-type="idl-name" href="#usbconfiguration">USBConfiguration</a> <a class="nv" href="#dom-usbinterface-usbinterface-configuration-interfacenumber-configuration">configuration</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbinterface-usbinterface-configuration-interfacenumber-interfacenumber">interfaceNumber</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbinterface">USBInterface</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbinterface-interfacenumber">interfaceNumber</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#usbalternateinterface">USBAlternateInterface</a> <a class="nv" data-readonly="" data-type="USBAlternateInterface" href="#dom-usbinterface-alternate">alternate</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbalternateinterface">USBAlternateInterface</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBAlternateInterface>" href="#dom-usbinterface-alternates">alternates</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">boolean</span> <a class="nv" data-readonly="" data-type="boolean" href="#dom-usbinterface-claimed">claimed</a>;
};

[<a class="nv" href="#dom-usbalternateinterface-usbalternateinterface">Constructor</a>(<a class="n" data-link-type="idl-name" href="#usbinterface">USBInterface</a> <a class="nv" href="#dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-deviceinterface">deviceInterface</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbalternateinterface-usbalternateinterface-deviceinterface-alternatesetting-alternatesetting">alternateSetting</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbalternateinterface">USBAlternateInterface</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbalternateinterface-alternatesetting">alternateSetting</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbalternateinterface-interfaceclass">interfaceClass</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbalternateinterface-interfacesubclass">interfaceSubclass</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbalternateinterface-interfaceprotocol">interfaceProtocol</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">DOMString</span>? <a class="nv" data-readonly="" data-type="DOMString?" href="#dom-usbalternateinterface-interfacename">interfaceName</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">FrozenArray</span>&lt;<a class="n" data-link-type="idl-name" href="#usbendpoint">USBEndpoint</a>> <a class="nv" data-readonly="" data-type="FrozenArray<USBEndpoint>" href="#dom-usbalternateinterface-endpoints">endpoints</a>;
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-usbdirection">USBDirection</a> {
  <a class="s" href="#dom-usbdirection-in">"in"</a>,
  <a class="s" href="#dom-usbdirection-out">"out"</a>
};

<span class="kt">enum</span> <a class="nv" href="#enumdef-usbendpointtype">USBEndpointType</a> {
  <a class="s" href="#dom-usbendpointtype-bulk">"bulk"</a>,
  <a class="s" href="#dom-usbendpointtype-interrupt">"interrupt"</a>,
  <a class="s" href="#dom-usbendpointtype-isochronous">"isochronous"</a>
};

[<a class="nv" href="#dom-usbendpoint-usbendpoint">Constructor</a>(<a class="n" data-link-type="idl-name" href="#usbalternateinterface">USBAlternateInterface</a> <a class="nv" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-alternate">alternate</a>, <span class="kt">octet</span> <a class="nv" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-endpointnumber">endpointNumber</a>, <a class="n" data-link-type="idl-name" href="#enumdef-usbdirection">USBDirection</a> <a class="nv" href="#dom-usbendpoint-usbendpoint-alternate-endpointnumber-direction-direction">direction</a>)]
<span class="kt">interface</span> <a class="nv" href="#usbendpoint">USBEndpoint</a> {
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">octet</span> <a class="nv" data-readonly="" data-type="octet" href="#dom-usbendpoint-endpointnumber">endpointNumber</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbdirection">USBDirection</a> <a class="nv" data-readonly="" data-type="USBDirection" href="#dom-usbendpoint-direction">direction</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <a class="n" data-link-type="idl-name" href="#enumdef-usbendpointtype">USBEndpointType</a> <a class="nv" data-readonly="" data-type="USBEndpointType" href="#dom-usbendpoint-type">type</a>;
  <span class="kt">readonly</span> <span class="kt">attribute</span> <span class="kt">unsigned</span> <span class="kt">long</span> <a class="nv" data-readonly="" data-type="unsigned long" href="#dom-usbendpoint-packetsize">packetSize</a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> What configuration is the device in after it resets? <a href="https://github.com/wicg/webusb/issues/36">&lt;https://github.com/wicg/webusb/issues/36></a><a href="#issue-0de671a3"> âµ </a></div>
   <div class="issue"> Include some non-normative information about device configurations. <a href="https://github.com/wicg/webusb/issues/46">&lt;https://github.com/wicg/webusb/issues/46></a><a href="#issue-7197531b"> âµ </a></div>
  </div>
  <aside class="dfn-panel" data-for="webusb-platform-capability-descriptor">
   <b><a href="#webusb-platform-capability-descriptor">#webusb-platform-capability-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webusb-platform-capability-descriptor-1">3.2. WebUSB Device Requests</a>
    <li><a href="#ref-for-webusb-platform-capability-descriptor-2">3.4. Public Device Registry</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="get-allowed-origins">
   <b><a href="#get-allowed-origins">#get-allowed-origins</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-get-allowed-origins-1">3.3.1. Allowed Origins Header</a>
    <li><a href="#ref-for-get-allowed-origins-2">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="is-allowed-to-access-configuration">
   <b><a href="#is-allowed-to-access-configuration">#is-allowed-to-access-configuration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-allowed-to-access-configuration-1">5. Device Usage</a>
    <li><a href="#ref-for-is-allowed-to-access-configuration-2">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="is-allowed-to-access-interface">
   <b><a href="#is-allowed-to-access-interface">#is-allowed-to-access-interface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-allowed-to-access-interface-1">5. Device Usage</a>
    <li><a href="#ref-for-is-allowed-to-access-interface-2">5.1. Transfers</a> <a href="#ref-for-is-allowed-to-access-interface-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="get-url">
   <b><a href="#get-url">#get-url</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-get-url-1">3.3.4. URL Descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="allowed-origins-header">
   <b><a href="#allowed-origins-header">#allowed-origins-header</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-allowed-origins-header-1">3.2.1. Get Allowed Origins</a> <a href="#ref-for-allowed-origins-header-2">(2)</a> <a href="#ref-for-allowed-origins-header-3">(3)</a> <a href="#ref-for-allowed-origins-header-4">(4)</a>
    <li><a href="#ref-for-allowed-origins-header-5">3.3.2. Configuration Subset Header</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="configuration-subset-header">
   <b><a href="#configuration-subset-header">#configuration-subset-header</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-configuration-subset-header-1">3.2.1. Get Allowed Origins</a> <a href="#ref-for-configuration-subset-header-2">(2)</a>
    <li><a href="#ref-for-configuration-subset-header-3">3.3.1. Allowed Origins Header</a> <a href="#ref-for-configuration-subset-header-4">(2)</a>
    <li><a href="#ref-for-configuration-subset-header-5">3.3.3. Function Subset Header</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="function-subset-header">
   <b><a href="#function-subset-header">#function-subset-header</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-function-subset-header-1">3.2.1. Get Allowed Origins</a>
    <li><a href="#ref-for-function-subset-header-2">3.3.2. Configuration Subset Header</a> <a href="#ref-for-function-subset-header-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="url-descriptor">
   <b><a href="#url-descriptor">#url-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-url-descriptor-1">3.2.1. Get Allowed Origins</a>
    <li><a href="#ref-for-url-descriptor-2">3.2.2. Get URL</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="public-device-registry">
   <b><a href="#public-device-registry">#public-device-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-public-device-registry-1">2.2. Attacking a Device</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbdevicefilter">
   <b><a href="#dictdef-usbdevicefilter">#dictdef-usbdevicefilter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbdevicefilter-1">4. Device Enumeration</a> <a href="#ref-for-dictdef-usbdevicefilter-2">(2)</a>
    <li><a href="#ref-for-dictdef-usbdevicefilter-3">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-vendorid">
   <b><a href="#dom-usbdevicefilter-vendorid">#dom-usbdevicefilter-vendorid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-vendorid-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-vendorid-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-productid">
   <b><a href="#dom-usbdevicefilter-productid">#dom-usbdevicefilter-productid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-productid-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-productid-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-classcode">
   <b><a href="#dom-usbdevicefilter-classcode">#dom-usbdevicefilter-classcode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-classcode-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-classcode-2">(2)</a> <a href="#ref-for-dom-usbdevicefilter-classcode-3">(3)</a> <a href="#ref-for-dom-usbdevicefilter-classcode-4">(4)</a> <a href="#ref-for-dom-usbdevicefilter-classcode-5">(5)</a> <a href="#ref-for-dom-usbdevicefilter-classcode-6">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-subclasscode">
   <b><a href="#dom-usbdevicefilter-subclasscode">#dom-usbdevicefilter-subclasscode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-subclasscode-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-subclasscode-2">(2)</a> <a href="#ref-for-dom-usbdevicefilter-subclasscode-3">(3)</a> <a href="#ref-for-dom-usbdevicefilter-subclasscode-4">(4)</a> <a href="#ref-for-dom-usbdevicefilter-subclasscode-5">(5)</a> <a href="#ref-for-dom-usbdevicefilter-subclasscode-6">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-protocolcode">
   <b><a href="#dom-usbdevicefilter-protocolcode">#dom-usbdevicefilter-protocolcode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-protocolcode-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-protocolcode-2">(2)</a> <a href="#ref-for-dom-usbdevicefilter-protocolcode-3">(3)</a> <a href="#ref-for-dom-usbdevicefilter-protocolcode-4">(4)</a> <a href="#ref-for-dom-usbdevicefilter-protocolcode-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicefilter-serialnumber">
   <b><a href="#dom-usbdevicefilter-serialnumber">#dom-usbdevicefilter-serialnumber</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicefilter-serialnumber-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbdevicefilter-serialnumber-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbdevicerequestoptions">
   <b><a href="#dictdef-usbdevicerequestoptions">#dictdef-usbdevicerequestoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbdevicerequestoptions-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevicerequestoptions-filters">
   <b><a href="#dom-usbdevicerequestoptions-filters">#dom-usbdevicerequestoptions-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevicerequestoptions-filters-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usb">
   <b><a href="#usb">#usb</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usb-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usb-onconnect">
   <b><a href="#dom-usb-onconnect">#dom-usb-onconnect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usb-onconnect-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usb-ondisconnect">
   <b><a href="#dom-usb-ondisconnect">#dom-usb-ondisconnect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usb-ondisconnect-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usb-getdevices">
   <b><a href="#dom-usb-getdevices">#dom-usb-getdevices</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usb-getdevices-1">4. Device Enumeration</a> <a href="#ref-for-dom-usb-getdevices-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usb-requestdevice">
   <b><a href="#dom-usb-requestdevice">#dom-usb-requestdevice</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usb-requestdevice-1">2.1. Abusing Access to a Device</a>
    <li><a href="#ref-for-dom-usb-requestdevice-2">4. Device Enumeration</a> <a href="#ref-for-dom-usb-requestdevice-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigator-usb">
   <b><a href="#dom-navigator-usb">#dom-navigator-usb</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-usb-1">4.1. Events</a> <a href="#ref-for-dom-navigator-usb-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="match-a-filter">
   <b><a href="#match-a-filter">#match-a-filter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-match-a-filter-1">4. Device Enumeration</a>
    <li><a href="#ref-for-match-a-filter-2">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="is-not-a-valid-filter">
   <b><a href="#is-not-a-valid-filter">#is-not-a-valid-filter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-is-not-a-valid-filter-1">4. Device Enumeration</a>
    <li><a href="#ref-for-is-not-a-valid-filter-2">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumerate-all-devices-attached-to-the-system">
   <b><a href="#enumerate-all-devices-attached-to-the-system">#enumerate-all-devices-attached-to-the-system</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumerate-all-devices-attached-to-the-system-1">4. Device Enumeration</a> <a href="#ref-for-enumerate-all-devices-attached-to-the-system-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="request-the-usb-permission">
   <b><a href="#request-the-usb-permission">#request-the-usb-permission</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-request-the-usb-permission-1">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="add-device-to-storage">
   <b><a href="#add-device-to-storage">#add-device-to-storage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-add-device-to-storage-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="check-permissions-for-device">
   <b><a href="#check-permissions-for-device">#check-permissions-for-device</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-permissions-for-device-1">4. Device Enumeration</a>
    <li><a href="#ref-for-check-permissions-for-device-2">4.1. Events</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbconnectioneventinit">
   <b><a href="#dictdef-usbconnectioneventinit">#dictdef-usbconnectioneventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbconnectioneventinit-1">4.1. Events</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbconnectionevent">
   <b><a href="#usbconnectionevent">#usbconnectionevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbconnectionevent-1">4.1. Events</a> <a href="#ref-for-usbconnectionevent-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="connect">
   <b><a href="#connect">#connect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-connect-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="disconnect">
   <b><a href="#disconnect">#disconnect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-disconnect-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbpermissiondescriptor">
   <b><a href="#dictdef-usbpermissiondescriptor">#dictdef-usbpermissiondescriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbpermissiondescriptor-1">4. Device Enumeration</a>
    <li><a href="#ref-for-dictdef-usbpermissiondescriptor-2">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbpermissiondescriptor-filters">
   <b><a href="#dom-usbpermissiondescriptor-filters">#dom-usbpermissiondescriptor-filters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbpermissiondescriptor-filters-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbpermissiondescriptor-filters-2">(2)</a>
    <li><a href="#ref-for-dom-usbpermissiondescriptor-filters-3">4.2. Permission API Integration</a> <a href="#ref-for-dom-usbpermissiondescriptor-filters-4">(2)</a> <a href="#ref-for-dom-usbpermissiondescriptor-filters-5">(3)</a> <a href="#ref-for-dom-usbpermissiondescriptor-filters-6">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-allowedusbdevice">
   <b><a href="#dictdef-allowedusbdevice">#dictdef-allowedusbdevice</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-allowedusbdevice-1">4.2. Permission API Integration</a> <a href="#ref-for-dictdef-allowedusbdevice-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-allowedusbdevice-vendorid">
   <b><a href="#dom-allowedusbdevice-vendorid">#dom-allowedusbdevice-vendorid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-allowedusbdevice-vendorid-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-allowedusbdevice-productid">
   <b><a href="#dom-allowedusbdevice-productid">#dom-allowedusbdevice-productid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-allowedusbdevice-productid-1">4. Device Enumeration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-allowedusbdevice-serialnumber">
   <b><a href="#dom-allowedusbdevice-serialnumber">#dom-allowedusbdevice-serialnumber</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-allowedusbdevice-serialnumber-1">4. Device Enumeration</a>
    <li><a href="#ref-for-dom-allowedusbdevice-serialnumber-2">4.1. Events</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbpermissionstorage">
   <b><a href="#dictdef-usbpermissionstorage">#dictdef-usbpermissionstorage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbpermissionstorage-1">4. Device Enumeration</a> <a href="#ref-for-dictdef-usbpermissionstorage-2">(2)</a> <a href="#ref-for-dictdef-usbpermissionstorage-3">(3)</a>
    <li><a href="#ref-for-dictdef-usbpermissionstorage-4">4.1. Events</a> <a href="#ref-for-dictdef-usbpermissionstorage-5">(2)</a>
    <li><a href="#ref-for-dictdef-usbpermissionstorage-6">4.2. Permission API Integration</a> <a href="#ref-for-dictdef-usbpermissionstorage-7">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbpermissionstorage-alloweddevices">
   <b><a href="#dom-usbpermissionstorage-alloweddevices">#dom-usbpermissionstorage-alloweddevices</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbpermissionstorage-alloweddevices-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbpermissionstorage-alloweddevices-2">(2)</a> <a href="#ref-for-dom-usbpermissionstorage-alloweddevices-3">(3)</a> <a href="#ref-for-dom-usbpermissionstorage-alloweddevices-4">(4)</a>
    <li><a href="#ref-for-dom-usbpermissionstorage-alloweddevices-5">4.1. Events</a> <a href="#ref-for-dom-usbpermissionstorage-alloweddevices-6">(2)</a>
    <li><a href="#ref-for-dom-usbpermissionstorage-alloweddevices-7">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-allowedusbdevice-devices-slot">
   <b><a href="#dom-allowedusbdevice-devices-slot">#dom-allowedusbdevice-devices-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-allowedusbdevice-devices-slot-1">4. Device Enumeration</a> <a href="#ref-for-dom-allowedusbdevice-devices-slot-2">(2)</a> <a href="#ref-for-dom-allowedusbdevice-devices-slot-3">(3)</a> <a href="#ref-for-dom-allowedusbdevice-devices-slot-4">(4)</a>
    <li><a href="#ref-for-dom-allowedusbdevice-devices-slot-5">4.1. Events</a> <a href="#ref-for-dom-allowedusbdevice-devices-slot-6">(2)</a> <a href="#ref-for-dom-allowedusbdevice-devices-slot-7">(3)</a>
    <li><a href="#ref-for-dom-allowedusbdevice-devices-slot-8">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbpermissionresult">
   <b><a href="#usbpermissionresult">#usbpermissionresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbpermissionresult-1">4. Device Enumeration</a>
    <li><a href="#ref-for-usbpermissionresult-2">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbpermissionresult-devices">
   <b><a href="#dom-usbpermissionresult-devices">#dom-usbpermissionresult-devices</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbpermissionresult-devices-1">4. Device Enumeration</a> <a href="#ref-for-dom-usbpermissionresult-devices-2">(2)</a> <a href="#ref-for-dom-usbpermissionresult-devices-3">(3)</a> <a href="#ref-for-dom-usbpermissionresult-devices-4">(4)</a> <a href="#ref-for-dom-usbpermissionresult-devices-5">(5)</a>
    <li><a href="#ref-for-dom-usbpermissionresult-devices-6">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbdevice">
   <b><a href="#usbdevice">#usbdevice</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbdevice-1">4. Device Enumeration</a> <a href="#ref-for-usbdevice-2">(2)</a> <a href="#ref-for-usbdevice-3">(3)</a> <a href="#ref-for-usbdevice-4">(4)</a>
    <li><a href="#ref-for-usbdevice-5">4.1. Events</a> <a href="#ref-for-usbdevice-6">(2)</a> <a href="#ref-for-usbdevice-7">(3)</a> <a href="#ref-for-usbdevice-8">(4)</a>
    <li><a href="#ref-for-usbdevice-9">4.2. Permission API Integration</a> <a href="#ref-for-usbdevice-10">(2)</a>
    <li><a href="#ref-for-usbdevice-11">5. Device Usage</a> <a href="#ref-for-usbdevice-12">(2)</a> <a href="#ref-for-usbdevice-13">(3)</a> <a href="#ref-for-usbdevice-14">(4)</a> <a href="#ref-for-usbdevice-15">(5)</a> <a href="#ref-for-usbdevice-16">(6)</a> <a href="#ref-for-usbdevice-17">(7)</a>
    <li><a href="#ref-for-usbdevice-18">5.2. Configurations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-usbversionmajor">
   <b><a href="#dom-usbdevice-usbversionmajor">#dom-usbdevice-usbversionmajor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-usbversionmajor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-usbversionminor">
   <b><a href="#dom-usbdevice-usbversionminor">#dom-usbdevice-usbversionminor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-usbversionminor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-usbversionsubminor">
   <b><a href="#dom-usbdevice-usbversionsubminor">#dom-usbdevice-usbversionsubminor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-usbversionsubminor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-deviceclass">
   <b><a href="#dom-usbdevice-deviceclass">#dom-usbdevice-deviceclass</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-deviceclass-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-devicesubclass">
   <b><a href="#dom-usbdevice-devicesubclass">#dom-usbdevice-devicesubclass</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-devicesubclass-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-deviceprotocol">
   <b><a href="#dom-usbdevice-deviceprotocol">#dom-usbdevice-deviceprotocol</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-deviceprotocol-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-vendorid">
   <b><a href="#dom-usbdevice-vendorid">#dom-usbdevice-vendorid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-vendorid-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-productid">
   <b><a href="#dom-usbdevice-productid">#dom-usbdevice-productid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-productid-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-deviceversionmajor">
   <b><a href="#dom-usbdevice-deviceversionmajor">#dom-usbdevice-deviceversionmajor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-deviceversionmajor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-deviceversionminor">
   <b><a href="#dom-usbdevice-deviceversionminor">#dom-usbdevice-deviceversionminor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-deviceversionminor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-deviceversionsubminor">
   <b><a href="#dom-usbdevice-deviceversionsubminor">#dom-usbdevice-deviceversionsubminor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-deviceversionsubminor-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-manufacturername">
   <b><a href="#dom-usbdevice-manufacturername">#dom-usbdevice-manufacturername</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-manufacturername-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-productname">
   <b><a href="#dom-usbdevice-productname">#dom-usbdevice-productname</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-productname-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-serialnumber">
   <b><a href="#dom-usbdevice-serialnumber">#dom-usbdevice-serialnumber</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-serialnumber-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-configuration">
   <b><a href="#dom-usbdevice-configuration">#dom-usbdevice-configuration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-configuration-1">5. Device Usage</a> <a href="#ref-for-dom-usbdevice-configuration-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-configurations">
   <b><a href="#dom-usbdevice-configurations">#dom-usbdevice-configurations</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-configurations-1">5. Device Usage</a> <a href="#ref-for-dom-usbdevice-configurations-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-opened">
   <b><a href="#dom-usbdevice-opened">#dom-usbdevice-opened</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-opened-1">5. Device Usage</a> <a href="#ref-for-dom-usbdevice-opened-2">(2)</a> <a href="#ref-for-dom-usbdevice-opened-3">(3)</a> <a href="#ref-for-dom-usbdevice-opened-4">(4)</a> <a href="#ref-for-dom-usbdevice-opened-5">(5)</a> <a href="#ref-for-dom-usbdevice-opened-6">(6)</a> <a href="#ref-for-dom-usbdevice-opened-7">(7)</a> <a href="#ref-for-dom-usbdevice-opened-8">(8)</a> <a href="#ref-for-dom-usbdevice-opened-9">(9)</a> <a href="#ref-for-dom-usbdevice-opened-10">(10)</a> <a href="#ref-for-dom-usbdevice-opened-11">(11)</a> <a href="#ref-for-dom-usbdevice-opened-12">(12)</a> <a href="#ref-for-dom-usbdevice-opened-13">(13)</a> <a href="#ref-for-dom-usbdevice-opened-14">(14)</a> <a href="#ref-for-dom-usbdevice-opened-15">(15)</a> <a href="#ref-for-dom-usbdevice-opened-16">(16)</a> <a href="#ref-for-dom-usbdevice-opened-17">(17)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-open">
   <b><a href="#dom-usbdevice-open">#dom-usbdevice-open</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-open-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-close">
   <b><a href="#dom-usbdevice-close">#dom-usbdevice-close</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-close-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-selectconfiguration">
   <b><a href="#dom-usbdevice-selectconfiguration">#dom-usbdevice-selectconfiguration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-selectconfiguration-1">5. Device Usage</a> <a href="#ref-for-dom-usbdevice-selectconfiguration-2">(2)</a>
    <li><a href="#ref-for-dom-usbdevice-selectconfiguration-3">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-claiminterface">
   <b><a href="#dom-usbdevice-claiminterface">#dom-usbdevice-claiminterface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-claiminterface-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-releaseinterface">
   <b><a href="#dom-usbdevice-releaseinterface">#dom-usbdevice-releaseinterface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-releaseinterface-1">5. Device Usage</a> <a href="#ref-for-dom-usbdevice-releaseinterface-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-selectalternateinterface">
   <b><a href="#dom-usbdevice-selectalternateinterface">#dom-usbdevice-selectalternateinterface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-selectalternateinterface-1">5. Device Usage</a>
    <li><a href="#ref-for-dom-usbdevice-selectalternateinterface-2">5.3. Interfaces</a> <a href="#ref-for-dom-usbdevice-selectalternateinterface-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-controltransferin">
   <b><a href="#dom-usbdevice-controltransferin">#dom-usbdevice-controltransferin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-controltransferin-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-controltransferout">
   <b><a href="#dom-usbdevice-controltransferout">#dom-usbdevice-controltransferout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-controltransferout-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-clearhalt">
   <b><a href="#dom-usbdevice-clearhalt">#dom-usbdevice-clearhalt</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-clearhalt-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-transferin">
   <b><a href="#dom-usbdevice-transferin">#dom-usbdevice-transferin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-transferin-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-transferout">
   <b><a href="#dom-usbdevice-transferout">#dom-usbdevice-transferout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-transferout-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-isochronoustransferin">
   <b><a href="#dom-usbdevice-isochronoustransferin">#dom-usbdevice-isochronoustransferin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-isochronoustransferin-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-isochronoustransferout">
   <b><a href="#dom-usbdevice-isochronoustransferout">#dom-usbdevice-isochronoustransferout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-isochronoustransferout-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdevice-reset">
   <b><a href="#dom-usbdevice-reset">#dom-usbdevice-reset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdevice-reset-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-usbrequesttype">
   <b><a href="#enumdef-usbrequesttype">#enumdef-usbrequesttype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-usbrequesttype-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-usbrecipient">
   <b><a href="#enumdef-usbrecipient">#enumdef-usbrecipient</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-usbrecipient-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbrecipient-device">
   <b><a href="#dom-usbrecipient-device">#dom-usbrecipient-device</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbrecipient-device-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbrecipient-interface">
   <b><a href="#dom-usbrecipient-interface">#dom-usbrecipient-interface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbrecipient-interface-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbrecipient-endpoint">
   <b><a href="#dom-usbrecipient-endpoint">#dom-usbrecipient-endpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbrecipient-endpoint-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbrecipient-other">
   <b><a href="#dom-usbrecipient-other">#dom-usbrecipient-other</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbrecipient-other-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-usbtransferstatus">
   <b><a href="#enumdef-usbtransferstatus">#enumdef-usbtransferstatus</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-usbtransferstatus-1">5.1. Transfers</a> <a href="#ref-for-enumdef-usbtransferstatus-2">(2)</a> <a href="#ref-for-enumdef-usbtransferstatus-3">(3)</a> <a href="#ref-for-enumdef-usbtransferstatus-4">(4)</a> <a href="#ref-for-enumdef-usbtransferstatus-5">(5)</a> <a href="#ref-for-enumdef-usbtransferstatus-6">(6)</a> <a href="#ref-for-enumdef-usbtransferstatus-7">(7)</a> <a href="#ref-for-enumdef-usbtransferstatus-8">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbtransferstatus-ok">
   <b><a href="#dom-usbtransferstatus-ok">#dom-usbtransferstatus-ok</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbtransferstatus-ok-1">5. Device Usage</a> <a href="#ref-for-dom-usbtransferstatus-ok-2">(2)</a> <a href="#ref-for-dom-usbtransferstatus-ok-3">(3)</a> <a href="#ref-for-dom-usbtransferstatus-ok-4">(4)</a> <a href="#ref-for-dom-usbtransferstatus-ok-5">(5)</a> <a href="#ref-for-dom-usbtransferstatus-ok-6">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbtransferstatus-stall">
   <b><a href="#dom-usbtransferstatus-stall">#dom-usbtransferstatus-stall</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbtransferstatus-stall-1">5. Device Usage</a> <a href="#ref-for-dom-usbtransferstatus-stall-2">(2)</a> <a href="#ref-for-dom-usbtransferstatus-stall-3">(3)</a> <a href="#ref-for-dom-usbtransferstatus-stall-4">(4)</a> <a href="#ref-for-dom-usbtransferstatus-stall-5">(5)</a> <a href="#ref-for-dom-usbtransferstatus-stall-6">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbtransferstatus-babble">
   <b><a href="#dom-usbtransferstatus-babble">#dom-usbtransferstatus-babble</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbtransferstatus-babble-1">5. Device Usage</a> <a href="#ref-for-dom-usbtransferstatus-babble-2">(2)</a> <a href="#ref-for-dom-usbtransferstatus-babble-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-usbcontroltransferparameters">
   <b><a href="#dictdef-usbcontroltransferparameters">#dictdef-usbcontroltransferparameters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-usbcontroltransferparameters-1">5. Device Usage</a> <a href="#ref-for-dictdef-usbcontroltransferparameters-2">(2)</a>
    <li><a href="#ref-for-dictdef-usbcontroltransferparameters-3">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbcontroltransferparameters-requesttype">
   <b><a href="#dom-usbcontroltransferparameters-requesttype">#dom-usbcontroltransferparameters-requesttype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbcontroltransferparameters-requesttype-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbcontroltransferparameters-recipient">
   <b><a href="#dom-usbcontroltransferparameters-recipient">#dom-usbcontroltransferparameters-recipient</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbcontroltransferparameters-recipient-1">5.1. Transfers</a> <a href="#ref-for-dom-usbcontroltransferparameters-recipient-2">(2)</a> <a href="#ref-for-dom-usbcontroltransferparameters-recipient-3">(3)</a> <a href="#ref-for-dom-usbcontroltransferparameters-recipient-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbcontroltransferparameters-request">
   <b><a href="#dom-usbcontroltransferparameters-request">#dom-usbcontroltransferparameters-request</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbcontroltransferparameters-request-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbcontroltransferparameters-value">
   <b><a href="#dom-usbcontroltransferparameters-value">#dom-usbcontroltransferparameters-value</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbcontroltransferparameters-value-1">5.1. Transfers</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbcontroltransferparameters-index">
   <b><a href="#dom-usbcontroltransferparameters-index">#dom-usbcontroltransferparameters-index</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbcontroltransferparameters-index-1">5.1. Transfers</a> <a href="#ref-for-dom-usbcontroltransferparameters-index-2">(2)</a> <a href="#ref-for-dom-usbcontroltransferparameters-index-3">(3)</a> <a href="#ref-for-dom-usbcontroltransferparameters-index-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbintransferresult">
   <b><a href="#usbintransferresult">#usbintransferresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbintransferresult-1">5. Device Usage</a> <a href="#ref-for-usbintransferresult-2">(2)</a> <a href="#ref-for-usbintransferresult-3">(3)</a> <a href="#ref-for-usbintransferresult-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbintransferresult-data">
   <b><a href="#dom-usbintransferresult-data">#dom-usbintransferresult-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbintransferresult-data-1">5. Device Usage</a> <a href="#ref-for-dom-usbintransferresult-data-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbintransferresult-status">
   <b><a href="#dom-usbintransferresult-status">#dom-usbintransferresult-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbintransferresult-status-1">5. Device Usage</a> <a href="#ref-for-dom-usbintransferresult-status-2">(2)</a> <a href="#ref-for-dom-usbintransferresult-status-3">(3)</a> <a href="#ref-for-dom-usbintransferresult-status-4">(4)</a> <a href="#ref-for-dom-usbintransferresult-status-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbouttransferresult">
   <b><a href="#usbouttransferresult">#usbouttransferresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbouttransferresult-1">5. Device Usage</a> <a href="#ref-for-usbouttransferresult-2">(2)</a> <a href="#ref-for-usbouttransferresult-3">(3)</a> <a href="#ref-for-usbouttransferresult-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbouttransferresult-byteswritten">
   <b><a href="#dom-usbouttransferresult-byteswritten">#dom-usbouttransferresult-byteswritten</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbouttransferresult-byteswritten-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbouttransferresult-status">
   <b><a href="#dom-usbouttransferresult-status">#dom-usbouttransferresult-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbouttransferresult-status-1">5. Device Usage</a> <a href="#ref-for-dom-usbouttransferresult-status-2">(2)</a> <a href="#ref-for-dom-usbouttransferresult-status-3">(3)</a> <a href="#ref-for-dom-usbouttransferresult-status-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbisochronousintransferpacket">
   <b><a href="#usbisochronousintransferpacket">#usbisochronousintransferpacket</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbisochronousintransferpacket-1">5. Device Usage</a>
    <li><a href="#ref-for-usbisochronousintransferpacket-2">5.1. Transfers</a> <a href="#ref-for-usbisochronousintransferpacket-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousintransferpacket-data">
   <b><a href="#dom-usbisochronousintransferpacket-data">#dom-usbisochronousintransferpacket-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousintransferpacket-data-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousintransferpacket-status">
   <b><a href="#dom-usbisochronousintransferpacket-status">#dom-usbisochronousintransferpacket-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousintransferpacket-status-1">5. Device Usage</a> <a href="#ref-for-dom-usbisochronousintransferpacket-status-2">(2)</a> <a href="#ref-for-dom-usbisochronousintransferpacket-status-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbisochronousintransferresult">
   <b><a href="#usbisochronousintransferresult">#usbisochronousintransferresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbisochronousintransferresult-1">5. Device Usage</a> <a href="#ref-for-usbisochronousintransferresult-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousintransferresult-data">
   <b><a href="#dom-usbisochronousintransferresult-data">#dom-usbisochronousintransferresult-data</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousintransferresult-data-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousintransferresult-packets">
   <b><a href="#dom-usbisochronousintransferresult-packets">#dom-usbisochronousintransferresult-packets</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousintransferresult-packets-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbisochronousouttransferpacket">
   <b><a href="#usbisochronousouttransferpacket">#usbisochronousouttransferpacket</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbisochronousouttransferpacket-1">5. Device Usage</a>
    <li><a href="#ref-for-usbisochronousouttransferpacket-2">5.1. Transfers</a> <a href="#ref-for-usbisochronousouttransferpacket-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousouttransferpacket-byteswritten">
   <b><a href="#dom-usbisochronousouttransferpacket-byteswritten">#dom-usbisochronousouttransferpacket-byteswritten</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousouttransferpacket-byteswritten-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousouttransferpacket-status">
   <b><a href="#dom-usbisochronousouttransferpacket-status">#dom-usbisochronousouttransferpacket-status</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousouttransferpacket-status-1">5. Device Usage</a> <a href="#ref-for-dom-usbisochronousouttransferpacket-status-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbisochronousouttransferresult">
   <b><a href="#usbisochronousouttransferresult">#usbisochronousouttransferresult</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbisochronousouttransferresult-1">5. Device Usage</a> <a href="#ref-for-usbisochronousouttransferresult-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbisochronousouttransferresult-packets">
   <b><a href="#dom-usbisochronousouttransferresult-packets">#dom-usbisochronousouttransferresult-packets</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbisochronousouttransferresult-packets-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="setup-packet">
   <b><a href="#setup-packet">#setup-packet</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-setup-packet-1">5. Device Usage</a>
    <li><a href="#ref-for-setup-packet-2">5.1. Transfers</a> <a href="#ref-for-setup-packet-3">(2)</a> <a href="#ref-for-setup-packet-4">(3)</a> <a href="#ref-for-setup-packet-5">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="data-stage">
   <b><a href="#data-stage">#data-stage</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-data-stage-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="default-control-pipe">
   <b><a href="#default-control-pipe">#default-control-pipe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-default-control-pipe-1">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="check-the-validity-of-the-control-transfer-parameters">
   <b><a href="#check-the-validity-of-the-control-transfer-parameters">#check-the-validity-of-the-control-transfer-parameters</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-check-the-validity-of-the-control-transfer-parameters-1">5. Device Usage</a> <a href="#ref-for-check-the-validity-of-the-control-transfer-parameters-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbconfiguration">
   <b><a href="#usbconfiguration">#usbconfiguration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbconfiguration-1">5. Device Usage</a> <a href="#ref-for-usbconfiguration-2">(2)</a>
    <li><a href="#ref-for-usbconfiguration-3">5.3. Interfaces</a> <a href="#ref-for-usbconfiguration-4">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbconfiguration-configurationvalue">
   <b><a href="#dom-usbconfiguration-configurationvalue">#dom-usbconfiguration-configurationvalue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbconfiguration-configurationvalue-1">5.2. Configurations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbconfiguration-configurationname">
   <b><a href="#dom-usbconfiguration-configurationname">#dom-usbconfiguration-configurationname</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbconfiguration-configurationname-1">5.2. Configurations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbconfiguration-interfaces">
   <b><a href="#dom-usbconfiguration-interfaces">#dom-usbconfiguration-interfaces</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbconfiguration-interfaces-1">5.2. Configurations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbinterface">
   <b><a href="#usbinterface">#usbinterface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbinterface-1">5.2. Configurations</a>
    <li><a href="#ref-for-usbinterface-2">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbinterface-interfacenumber">
   <b><a href="#dom-usbinterface-interfacenumber">#dom-usbinterface-interfacenumber</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbinterface-interfacenumber-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbinterface-alternate">
   <b><a href="#dom-usbinterface-alternate">#dom-usbinterface-alternate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbinterface-alternate-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbinterface-alternates">
   <b><a href="#dom-usbinterface-alternates">#dom-usbinterface-alternates</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbinterface-alternates-1">5.3. Interfaces</a> <a href="#ref-for-dom-usbinterface-alternates-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbinterface-claimed">
   <b><a href="#dom-usbinterface-claimed">#dom-usbinterface-claimed</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbinterface-claimed-1">5. Device Usage</a> <a href="#ref-for-dom-usbinterface-claimed-2">(2)</a> <a href="#ref-for-dom-usbinterface-claimed-3">(3)</a> <a href="#ref-for-dom-usbinterface-claimed-4">(4)</a> <a href="#ref-for-dom-usbinterface-claimed-5">(5)</a> <a href="#ref-for-dom-usbinterface-claimed-6">(6)</a> <a href="#ref-for-dom-usbinterface-claimed-7">(7)</a> <a href="#ref-for-dom-usbinterface-claimed-8">(8)</a> <a href="#ref-for-dom-usbinterface-claimed-9">(9)</a> <a href="#ref-for-dom-usbinterface-claimed-10">(10)</a>
    <li><a href="#ref-for-dom-usbinterface-claimed-11">5.1. Transfers</a> <a href="#ref-for-dom-usbinterface-claimed-12">(2)</a>
    <li><a href="#ref-for-dom-usbinterface-claimed-13">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbalternateinterface">
   <b><a href="#usbalternateinterface">#usbalternateinterface</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbalternateinterface-1">5.3. Interfaces</a> <a href="#ref-for-usbalternateinterface-2">(2)</a> <a href="#ref-for-usbalternateinterface-3">(3)</a> <a href="#ref-for-usbalternateinterface-4">(4)</a> <a href="#ref-for-usbalternateinterface-5">(5)</a>
    <li><a href="#ref-for-usbalternateinterface-6">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-alternatesetting">
   <b><a href="#dom-usbalternateinterface-alternatesetting">#dom-usbalternateinterface-alternatesetting</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-alternatesetting-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-interfaceclass">
   <b><a href="#dom-usbalternateinterface-interfaceclass">#dom-usbalternateinterface-interfaceclass</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-interfaceclass-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-interfacesubclass">
   <b><a href="#dom-usbalternateinterface-interfacesubclass">#dom-usbalternateinterface-interfacesubclass</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-interfacesubclass-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-interfaceprotocol">
   <b><a href="#dom-usbalternateinterface-interfaceprotocol">#dom-usbalternateinterface-interfaceprotocol</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-interfaceprotocol-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-interfacename">
   <b><a href="#dom-usbalternateinterface-interfacename">#dom-usbalternateinterface-interfacename</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-interfacename-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbalternateinterface-endpoints">
   <b><a href="#dom-usbalternateinterface-endpoints">#dom-usbalternateinterface-endpoints</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbalternateinterface-endpoints-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="active-configuration">
   <b><a href="#active-configuration">#active-configuration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-active-configuration-1">5. Device Usage</a> <a href="#ref-for-active-configuration-2">(2)</a> <a href="#ref-for-active-configuration-3">(3)</a> <a href="#ref-for-active-configuration-4">(4)</a> <a href="#ref-for-active-configuration-5">(5)</a> <a href="#ref-for-active-configuration-6">(6)</a> <a href="#ref-for-active-configuration-7">(7)</a> <a href="#ref-for-active-configuration-8">(8)</a> <a href="#ref-for-active-configuration-9">(9)</a>
    <li><a href="#ref-for-active-configuration-10">5.1. Transfers</a> <a href="#ref-for-active-configuration-11">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-usbdirection">
   <b><a href="#enumdef-usbdirection">#enumdef-usbdirection</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-usbdirection-1">5. Device Usage</a>
    <li><a href="#ref-for-enumdef-usbdirection-2">5.4. Endpoints</a> <a href="#ref-for-enumdef-usbdirection-3">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdirection-in">
   <b><a href="#dom-usbdirection-in">#dom-usbdirection-in</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdirection-in-1">5.1. Transfers</a>
    <li><a href="#ref-for-dom-usbdirection-in-2">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbdirection-out">
   <b><a href="#dom-usbdirection-out">#dom-usbdirection-out</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbdirection-out-1">5.1. Transfers</a>
    <li><a href="#ref-for-dom-usbdirection-out-2">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-usbendpointtype">
   <b><a href="#enumdef-usbendpointtype">#enumdef-usbendpointtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-usbendpointtype-1">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usbendpoint">
   <b><a href="#usbendpoint">#usbendpoint</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usbendpoint-1">5.3. Interfaces</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbendpoint-endpointnumber">
   <b><a href="#dom-usbendpoint-endpointnumber">#dom-usbendpoint-endpointnumber</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbendpoint-endpointnumber-1">5.4. Endpoints</a> <a href="#ref-for-dom-usbendpoint-endpointnumber-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbendpoint-direction">
   <b><a href="#dom-usbendpoint-direction">#dom-usbendpoint-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbendpoint-direction-1">5.4. Endpoints</a> <a href="#ref-for-dom-usbendpoint-direction-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbendpoint-type">
   <b><a href="#dom-usbendpoint-type">#dom-usbendpoint-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbendpoint-type-1">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-usbendpoint-packetsize">
   <b><a href="#dom-usbendpoint-packetsize">#dom-usbendpoint-packetsize</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-usbendpoint-packetsize-1">5.4. Endpoints</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="device-descriptor">
   <b><a href="#device-descriptor">#device-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-device-descriptor-1">4. Device Enumeration</a>
    <li><a href="#ref-for-device-descriptor-2">5. Device Usage</a> <a href="#ref-for-device-descriptor-3">(2)</a> <a href="#ref-for-device-descriptor-4">(3)</a> <a href="#ref-for-device-descriptor-5">(4)</a> <a href="#ref-for-device-descriptor-6">(5)</a> <a href="#ref-for-device-descriptor-7">(6)</a> <a href="#ref-for-device-descriptor-8">(7)</a>
    <li><a href="#ref-for-device-descriptor-9">6. Terminology</a> <a href="#ref-for-device-descriptor-10">(2)</a> <a href="#ref-for-device-descriptor-11">(3)</a> <a href="#ref-for-device-descriptor-12">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="configuration-descriptor">
   <b><a href="#configuration-descriptor">#configuration-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-configuration-descriptor-1">3.3.2. Configuration Subset Header</a>
    <li><a href="#ref-for-configuration-descriptor-2">5.2. Configurations</a> <a href="#ref-for-configuration-descriptor-3">(2)</a> <a href="#ref-for-configuration-descriptor-4">(3)</a>
    <li><a href="#ref-for-configuration-descriptor-5">6. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="interface-descriptor">
   <b><a href="#interface-descriptor">#interface-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interface-descriptor-1">3.3.3. Function Subset Header</a>
    <li><a href="#ref-for-interface-descriptor-2">4. Device Enumeration</a>
    <li><a href="#ref-for-interface-descriptor-3">5.2. Configurations</a>
    <li><a href="#ref-for-interface-descriptor-4">5.3. Interfaces</a> <a href="#ref-for-interface-descriptor-5">(2)</a> <a href="#ref-for-interface-descriptor-6">(3)</a> <a href="#ref-for-interface-descriptor-7">(4)</a> <a href="#ref-for-interface-descriptor-8">(5)</a> <a href="#ref-for-interface-descriptor-9">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="interface-association-descriptor">
   <b><a href="#interface-association-descriptor">#interface-association-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-interface-association-descriptor-1">3.3.3. Function Subset Header</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="endpoint-descriptor">
   <b><a href="#endpoint-descriptor">#endpoint-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-endpoint-descriptor-1">5.4. Endpoints</a> <a href="#ref-for-endpoint-descriptor-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="string-descriptor">
   <b><a href="#string-descriptor">#string-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-string-descriptor-1">4. Device Enumeration</a>
    <li><a href="#ref-for-string-descriptor-2">5. Device Usage</a>
    <li><a href="#ref-for-string-descriptor-3">5.2. Configurations</a>
    <li><a href="#ref-for-string-descriptor-4">5.3. Interfaces</a>
    <li><a href="#ref-for-string-descriptor-5">6. Terminology</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="binary-object-store">
   <b><a href="#binary-object-store">#binary-object-store</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-binary-object-store-1">3.1. WebUSB Platform Capability Descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="platform-descriptor">
   <b><a href="#platform-descriptor">#platform-descriptor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-platform-descriptor-1">3.1. WebUSB Platform Capability Descriptor</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="usb-device">
   <b><a href="#usb-device">#usb-device</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-usb-device-1">4. Device Enumeration</a> <a href="#ref-for-usb-device-2">(2)</a>
    <li><a href="#ref-for-usb-device-3">4.1. Events</a> <a href="#ref-for-usb-device-4">(2)</a>
    <li><a href="#ref-for-usb-device-5">4.2. Permission API Integration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="vendor-id">
   <b><a href="#vendor-id">#vendor-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-vendor-id-1">4. Device Enumeration</a> <a href="#ref-for-vendor-id-2">(2)</a>
    <li><a href="#ref-for-vendor-id-3">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="product-id">
   <b><a href="#product-id">#product-id</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-product-id-1">4. Device Enumeration</a> <a href="#ref-for-product-id-2">(2)</a>
    <li><a href="#ref-for-product-id-3">5. Device Usage</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="serial-number">
   <b><a href="#serial-number">#serial-number</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-serial-number-1">4. Device Enumeration</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>